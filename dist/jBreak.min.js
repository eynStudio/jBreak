(function(){function t(t,e){if(t!==e){var n=null===t,r=t===y,i=t===t,a=null===e,o=e===y,u=e===e;if(t>e&&!a||!i||n&&!o&&u||r&&u)return 1;if(e>t&&!n||!u||a&&!r&&i||o&&i)return-1}return 0}function e(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function n(t,e,n){if(e!==e)return d(t,n);n-=1;for(var r=t.length;++n<r;)if(t[n]===e)return n;return-1}function r(t){return"function"==typeof t||!1}function i(t){return null==t?"":t+""}function a(t,e){for(var n=-1,r=t.length;++n<r&&-1<e.indexOf(t.charAt(n)););return n}function o(t,e){for(var n=t.length;n--&&-1<e.indexOf(t.charAt(n)););return n}function u(e,n){return t(e.a,n.a)||e.b-n.b}function l(t){return Ot[t]}function s(t){return Rt[t]}function c(t,e,n){return e?t=Lt[t]:n&&(t=Ut[t]),"\\"+t}function f(t){return"\\"+Ut[t]}function d(t,e,n){var r=t.length;for(e+=n?0:-1;n?e--:++e<r;){var i=t[e];if(i!==i)return e}return-1}function p(t){return!!t&&"object"==typeof t}function h(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function g(t,e){for(var n=-1,r=t.length,i=-1,a=[];++n<r;)t[n]===e&&(t[n]=L,a[++i]=n);return a}function m(t){for(var e=-1,n=t.length;++e<n&&h(t.charCodeAt(e)););return e}function b(t){for(var e=t.length;e--&&h(t.charCodeAt(e)););return e}function v(t){return Pt[t]}function $(h){function Ot(t){if(p(t)&&!(Da(t)||t instanceof Vt)){if(t instanceof Pt)return t;if(ti.call(t,"__chain__")&&ti.call(t,"__wrapped__"))return Hn(t)}return new Pt(t)}function Rt(){}function Pt(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Vt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Di,this.__views__=[]}function Lt(){this.__data__={}}function Ut(t){var e=t?t.length:0;for(this.data={hash:mi(null),set:new ci};e--;)this.push(t[e])}function Nt(t,e){var n=t.data;return("string"==typeof e||mr(e)?n.set.has(e):n.hash[e])?0:-1}function Ht(t,e){var n=-1,r=t.length;for(e||(e=Ur(r));++n<r;)e[n]=t[n];return e}function qt(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}function zt(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Yt(t,e){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[++i]=o)}return a}function Kt(t,e){for(var n=-1,r=t.length,i=Ur(r);++n<r;)i[n]=e(t[n],n,t);return i}function Gt(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Zt(t,e,n,r){var i=-1,a=t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function Jt(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Xt(t,e,n,r){return t!==y&&ti.call(r,n)?t:e}function Qt(t,e,n){for(var r=-1,i=Va(e),a=i.length;++r<a;){var o=i[r],u=t[o],l=n(u,e[o],o,t,e);(l===l?l===u:u!==u)&&(u!==y||o in t)||(t[o]=l)}return t}function te(t,e){return null==e?t:ne(e,Va(e),t)}function ee(t,e){for(var n=-1,r=null==t,i=!r&&Sn(t),a=i?t.length:0,o=e.length,u=Ur(o);++n<o;){var l=e[n];u[n]=i?Fn(l,a)?t[l]:y:r?y:t[l]}return u}function ne(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var a=e[r];n[a]=t[a]}return n}function re(t,e,n){var r=typeof t;return"function"==r?e===y?t:Le(t,e,n):null==t?Or:"object"==r?ye(t):e===y?Lr(t):we(t,e)}function ie(t,e,n,r,i,a,o){var u;if(n&&(u=i?n(t,r,i):n(t)),u!==y)return u;if(!mr(t))return t;if(r=Da(t)){if(u=kn(t),!e)return Ht(t,u)}else{var l=ni.call(t),s=l==Y;if(l!=W&&l!=U&&(!s||i))return It[l]?Dn(t,l,e):i?t:{};if(u=Tn(s?{}:t),!e)return te(u,t)}for(a||(a=[]),o||(o=[]),i=a.length;i--;)if(a[i]==t)return o[i];return a.push(t),o.push(u),(r?qt:pe)(t,function(r,i){u[i]=ie(r,e,n,i,t,a,o)}),u}function ae(t,e,n){if("function"!=typeof t)throw new Gr(V);return fi(function(){t.apply(y,n)},e)}function oe(t,e){var r=t?t.length:0,i=[];if(!r)return i;var a=-1,o=_n(),u=o===n,l=u&&e.length>=O&&mi&&ci?new Ut(e):null,s=e.length;l&&(o=Nt,u=!1,e=l);t:for(;++a<r;)if(l=t[a],u&&l===l){for(var c=s;c--;)if(e[c]===l)continue t;i.push(l)}else 0>o(e,l,0)&&i.push(l);return i}function ue(t,e){var n=!0;return Ii(t,function(t,r,i){return n=!!e(t,r,i)}),n}function le(t,e,n,r){var i=r,a=i;return Ii(t,function(t,o,u){o=+e(t,o,u),(n(o,i)||o===r&&o===a)&&(i=o,a=t)}),a}function se(t,e){var n=[];return Ii(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function ce(t,e,n,r){var i;return n(t,function(t,n,a){return e(t,n,a)?(i=r?n:t,!1):void 0}),i}function fe(t,e,n,r){r||(r=[]);for(var i=-1,a=t.length;++i<a;){var o=t[i];p(o)&&Sn(o)&&(n||Da(o)||dr(o))?e?fe(o,e,n,r):Gt(r,o):n||(r[r.length]=o)}return r}function de(t,e){Ri(t,e,Dr)}function pe(t,e){return Ri(t,e,Va)}function he(t,e){return Pi(t,e,Va)}function ge(t,e){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var o=e[n];gr(t[o])&&(a[++i]=o)}return a}function me(t,e,n){if(null!=t){n!==y&&n in Un(t)&&(e=[n]),n=0;for(var r=e.length;null!=t&&r>n;)t=t[e[n++]];return n&&n==r?t:y}}function be(t,e,n,r,i,a){if(t===e)t=!0;else if(null==t||null==e||!mr(t)&&!p(e))t=t!==t&&e!==e;else t:{var o=be,u=Da(t),l=Da(e),s=N,c=N;u||(s=ni.call(t),s==U?s=W:s!=W&&(u=_r(t))),l||(c=ni.call(e),c==U?c=W:c!=W&&_r(e));var f=s==W,l=c==W,c=s==c;if(!c||u||f){if(!r&&(s=f&&ti.call(t,"__wrapped__"),l=l&&ti.call(e,"__wrapped__"),s||l)){t=o(s?t.value():t,l?e.value():e,n,r,i,a);break t}if(c){for(i||(i=[]),a||(a=[]),s=i.length;s--;)if(i[s]==t){t=a[s]==e;break t}i.push(t),a.push(e),t=(u?bn:$n)(t,e,o,n,r,i,a),i.pop(),a.pop()}else t=!1}else t=vn(t,e,s)}return t}function ve(t,e,n){var r=e.length,i=r,a=!n;if(null==t)return!i;for(t=Un(t);r--;){var o=e[r];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++r<i;){var o=e[r],u=o[0],l=t[u],s=o[1];if(a&&o[2]){if(l===y&&!(u in t))return!1}else if(o=n?n(l,s,u):y,o===y?!be(s,l,n,!0):!o)return!1}return!0}function $e(t,e){var n=-1,r=Sn(t)?Ur(t.length):[];return Ii(t,function(t,i,a){r[++n]=e(t,i,a)}),r}function ye(t){var e=jn(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(r!==y||n in Un(t))}}return function(t){return ve(t,e)}}function we(t,e){var n=Da(t),r=An(t)&&e===e&&!mr(e),i=t+"";return t=Nn(t),function(a){if(null==a)return!1;var o=i;if(a=Un(a),!(!n&&r||o in a)){if(a=1==t.length?a:me(a,Ee(t,0,-1)),null==a)return!1;o=Wn(t),a=Un(a)}return a[o]===e?e!==y||o in a:be(e,a[o],y,!0)}}function _e(t,e,n,r,i){if(!mr(t))return t;var a=Sn(e)&&(Da(e)||_r(e)),o=a?y:Va(e);return qt(o||e,function(u,l){if(o&&(l=u,u=e[l]),p(u)){r||(r=[]),i||(i=[]);t:{for(var s=l,c=r,f=i,d=c.length,h=e[s];d--;)if(c[d]==h){t[s]=f[d];break t}var d=t[s],g=n?n(d,h,s,t,e):y,m=g===y;m&&(g=h,Sn(h)&&(Da(h)||_r(h))?g=Da(d)?d:Sn(d)?Ht(d):[]:$r(h)||dr(h)?g=dr(d)?kr(d):$r(d)?d:{}:m=!1),c.push(h),f.push(g),m?t[s]=_e(g,h,n,c,f):(g===g?g!==d:d===d)&&(t[s]=g)}}else s=t[l],c=n?n(s,u,l,t,e):y,(f=c===y)&&(c=u),c===y&&(!a||l in t)||!f&&(c===c?c===s:s!==s)||(t[l]=c)}),t}function je(t){return function(e){return null==e?y:e[t]}}function xe(t){var e=t+"";return t=Nn(t),function(n){return me(n,t,e)}}function ke(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&Fn(r)){var i=r;di.call(t,r,1)}}}function Te(t,e){return t+bi(ki()*(e-t+1))}function De(t,e,n,r,i){return i(t,function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)}),n}function Ee(t,e,n){var r=-1,i=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=n===y||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0,n=Ur(i);++r<i;)n[r]=t[r+e];return n}function Se(t,e){var n;return Ii(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Fe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}function Ce(e,n,r){var i=yn(),a=-1;return n=Kt(n,function(t){return i(t)}),e=$e(e,function(t){return{a:Kt(n,function(e){return e(t)}),b:++a,c:t}}),Fe(e,function(e,n){var i;t:{for(var a=-1,o=e.a,u=n.a,l=o.length,s=r.length;++a<l;)if(i=t(o[a],u[a])){if(a>=s)break t;a=r[a],i*="asc"===a||!0===a?1:-1;break t}i=e.b-n.b}return i})}function Ae(t,e){var n=0;return Ii(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function Me(t,e){var r=-1,i=_n(),a=t.length,o=i===n,u=o&&a>=O,l=u&&mi&&ci?new Ut(void 0):null,s=[];l?(i=Nt,o=!1):(u=!1,l=e?[]:s);t:for(;++r<a;){var c=t[r],f=e?e(c,r,t):c;if(o&&c===c){for(var d=l.length;d--;)if(l[d]===f)continue t;e&&l.push(f),s.push(c)}else 0>i(l,f,0)&&((e||u)&&l.push(f),s.push(c))}return s}function Ie(t,e){for(var n=-1,r=e.length,i=Ur(r);++n<r;)i[n]=t[e[n]];return i}function Oe(t,e,n,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&e(t[a],a,t););return n?Ee(t,r?0:a,r?a+1:i):Ee(t,r?a+1:0,r?i:a)}function Re(t,e){var n=t;n instanceof Vt&&(n=n.value());for(var r=-1,i=e.length;++r<i;)var a=e[r],n=a.func.apply(a.thisArg,Gt([n],a.args));return n}function Pe(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&Si>=i){for(;i>r;){var a=r+i>>>1,o=t[a];(n?e>=o:e>o)&&null!==o?r=a+1:i=a}return i}return Ve(t,e,Or,n)}function Ve(t,e,n,r){e=n(e);for(var i=0,a=t?t.length:0,o=e!==e,u=null===e,l=e===y;a>i;){var s=bi((i+a)/2),c=n(t[s]),f=c!==y,d=c===c;(o?d||r:u?d&&f&&(r||null!=c):l?d&&(r||f):null==c?0:r?e>=c:e>c)?i=s+1:a=s}return _i(a,Ei)}function Le(t,e,n){if("function"!=typeof t)return Or;if(e===y)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,a){return t.call(e,n,r,i,a)};case 5:return function(n,r,i,a,o){return t.call(e,n,r,i,a,o)}}return function(){return t.apply(e,arguments)}}function Ue(t){var e=new ai(t.byteLength);return new pi(e).set(new pi(t)),e}function Ne(t,e,n){for(var r=n.length,i=-1,a=wi(t.length-r,0),o=-1,u=e.length,l=Ur(u+a);++o<u;)l[o]=e[o];for(;++i<r;)l[n[i]]=t[i];for(;a--;)l[o++]=t[i++];return l}function He(t,e,n){for(var r=-1,i=n.length,a=-1,o=wi(t.length-i,0),u=-1,l=e.length,s=Ur(o+l);++a<o;)s[a]=t[a];for(o=a;++u<l;)s[o+u]=e[u];for(;++r<i;)s[o+n[r]]=t[a++];return s}function qe(t,e){return function(n,r,i){var a=e?e():{};if(r=yn(r,i,3),Da(n)){i=-1;for(var o=n.length;++i<o;){var u=n[i];t(a,u,r(u,i,n),n)}}else Ii(n,function(e,n,i){t(a,e,r(e,n,i),i)});return a}}function ze(t){return cr(function(e,n){var r=-1,i=null==e?0:n.length,a=i>2?n[i-2]:y,o=i>2?n[2]:y,u=i>1?n[i-1]:y;for("function"==typeof a?(a=Le(a,u,5),i-=2):(a="function"==typeof u?u:y,i-=a?1:0),o&&Cn(n[0],n[1],o)&&(a=3>i?y:a,i=1);++r<i;)(o=n[r])&&t(e,o,a);return e})}function Ye(t,e){return function(n,r){var i=n?Ui(n):0;if(!In(i))return t(n,r);for(var a=e?i:-1,o=Un(n);(e?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Be(t){return function(e,n,r){var i=Un(e);r=r(e);for(var a=r.length,o=t?a:-1;t?o--:++o<a;){var u=r[o];if(!1===n(i[u],u,i))break}return e}}function We(t,e){function n(){return(this&&this!==Bt&&this instanceof n?r:t).apply(e,arguments)}var r=Ge(t);return n}function Ke(t){return function(e){var n=-1;e=Mr(Fr(e));for(var r=e.length,i="";++n<r;)i=t(i,e[n],n);return i}}function Ge(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Mi(t.prototype),e=t.apply(n,e);return mr(e)?e:n}}function Ze(t){function e(n,r,i){return i&&Cn(n,r,i)&&(r=y),n=mn(n,t,y,y,y,y,y,r),n.placeholder=e.placeholder,n}return e}function Je(t,e){return cr(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(y,n))})}function Xe(t,e){return function(n,r,i){if(i&&Cn(n,r,i)&&(r=y),r=yn(r,i,3),1==r.length){i=n=Da(n)?n:Ln(n);for(var a=r,o=-1,u=i.length,l=e,s=l;++o<u;){var c=i[o],f=+a(c);t(f,l)&&(l=f,s=c)}if(i=s,!n.length||i!==e)return i}return le(n,r,t,e)}}function Qe(t,n){return function(r,i,a){return i=yn(i,a,3),Da(r)?(i=e(r,i,n),i>-1?r[i]:y):ce(r,i,t)}}function tn(t){return function(n,r,i){return n&&n.length?(r=yn(r,i,3),e(n,r,t)):-1}}function en(t){return function(e,n,r){return n=yn(n,r,3),ce(e,n,t,!0)}}function nn(t){return function(){for(var e,n=arguments.length,r=t?n:-1,i=0,a=Ur(n);t?r--:++r<n;){var o=a[i++]=arguments[r];if("function"!=typeof o)throw new Gr(V);!e&&Pt.prototype.thru&&"wrapper"==wn(o)&&(e=new Pt([],!0))}for(r=e?-1:n;++r<n;){var o=a[r],i=wn(o),u="wrapper"==i?Li(o):y;e=u&&Mn(u[0])&&u[1]==(S|k|D|F)&&!u[4].length&&1==u[9]?e[wn(u[0])].apply(e,u[3]):1==o.length&&Mn(o)?e[i]():e.thru(o)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&Da(r)&&r.length>=O)return e.plant(r).value();for(var i=0,t=n?a[i].apply(this,t):r;++i<n;)t=a[i].call(this,t);return t}}}function rn(t,e){return function(n,r,i){return"function"==typeof r&&i===y&&Da(n)?t(n,r):e(n,Le(r,i,3))}}function an(t){return function(e,n,r){return("function"!=typeof n||r!==y)&&(n=Le(n,r,3)),t(e,n,Dr)}}function on(t){return function(e,n,r){return("function"!=typeof n||r!==y)&&(n=Le(n,r,3)),t(e,n)}}function un(t){return function(e,n,r){var i={};return n=yn(n,r,3),pe(e,function(e,r,a){a=n(e,r,a),r=t?a:r,e=t?e:a,i[r]=e}),i}}function ln(t){return function(e,n,r){return e=i(e),(t?e:"")+dn(e,n,r)+(t?"":e)}}function sn(t){var e=cr(function(n,r){var i=g(r,e.placeholder);return mn(n,t,y,r,i)});return e}function cn(t,e){return function(n,r,i,a){var o=3>arguments.length;return"function"==typeof r&&a===y&&Da(n)?t(n,r,i,o):De(n,yn(r,a,4),i,o,e)}}function fn(t,e,n,r,i,a,o,u,l,s){function c(){for(var $=arguments.length,w=$,x=Ur($);w--;)x[w]=arguments[w];if(r&&(x=Ne(x,r,i)),a&&(x=He(x,a,o)),h||b){var w=c.placeholder,k=g(x,w),$=$-k.length;if(s>$){var T=u?Ht(u):y,$=wi(s-$,0),S=h?k:y,k=h?y:k,F=h?x:y,x=h?y:x;return e|=h?D:E,e&=~(h?E:D),m||(e&=~(_|j)),x=[t,e,n,F,S,x,k,T,l,$],T=fn.apply(y,x),Mn(t)&&Ni(T,x),T.placeholder=w,T}}if(w=d?n:this,T=p?w[t]:t,u)for($=x.length,S=_i(u.length,$),k=Ht(x);S--;)F=u[S],x[S]=Fn(F,$)?k[F]:y;return f&&l<x.length&&(x.length=l),this&&this!==Bt&&this instanceof c&&(T=v||Ge(t)),T.apply(w,x)}var f=e&S,d=e&_,p=e&j,h=e&k,m=e&x,b=e&T,v=p?y:Ge(t);return c}function dn(t,e,n){return t=t.length,e=+e,e>t&&$i(e)?(e-=t,n=null==n?" ":n+"",Cr(n,gi(e/n.length)).slice(0,e)):""}function pn(t,e,n,r){function i(){for(var e=-1,u=arguments.length,l=-1,s=r.length,c=Ur(s+u);++l<s;)c[l]=r[l];for(;u--;)c[l++]=arguments[++e];return(this&&this!==Bt&&this instanceof i?o:t).apply(a?n:this,c)}var a=e&_,o=Ge(t);return i}function hn(t){var e=zr[t];return function(t,n){return(n=n===y?0:+n||0)?(n=li(10,n),e(t*n)/n):e(t)}}function gn(t){return function(e,n,r,i){var a=yn(r);return null==r&&a===re?Pe(e,n,t):Ve(e,n,a(r,i,1),t)}}function mn(t,e,n,r,i,a,o,u){var l=e&j;if(!l&&"function"!=typeof t)throw new Gr(V);var s=r?r.length:0;if(s||(e&=~(D|E),r=i=y),s-=i?i.length:0,e&E){var c=r,f=i;r=i=y}var d=l?y:Li(t);return n=[t,e,n,r,i,c,f,a,o,u],d&&(r=n[1],e=d[1],u=r|e,i=e==S&&r==k||e==S&&r==F&&n[7].length<=d[8]||e==(S|F)&&r==k,(S>u||i)&&(e&_&&(n[2]=d[2],u|=r&_?0:x),(r=d[3])&&(i=n[3],n[3]=i?Ne(i,r,d[4]):Ht(r),n[4]=i?g(n[3],L):Ht(d[4])),(r=d[5])&&(i=n[5],n[5]=i?He(i,r,d[6]):Ht(r),n[6]=i?g(n[5],L):Ht(d[6])),(r=d[7])&&(n[7]=Ht(r)),e&S&&(n[8]=null==n[8]?d[8]:_i(n[8],d[8])),null==n[9]&&(n[9]=d[9]),n[0]=d[0],n[1]=u),e=n[1],u=n[9]),n[9]=null==u?l?0:t.length:wi(u-s,0)||0,(d?Vi:Ni)(e==_?We(n[0],n[2]):e!=D&&e!=(_|D)||n[4].length?fn.apply(y,n):pn.apply(y,n),n)}function bn(t,e,n,r,i,a,o){var u=-1,l=t.length,s=e.length;if(l!=s&&(!i||l>=s))return!1;for(;++u<l;){var c=t[u],s=e[u],f=r?r(i?s:c,i?c:s,u):y;if(f!==y){if(f)continue;return!1}if(i){if(!Jt(e,function(t){return c===t||n(c,t,r,i,a,o)}))return!1}else if(c!==s&&!n(c,s,r,i,a,o))return!1}return!0}function vn(t,e,n){switch(n){case H:case q:return+t==+e;case z:return t.name==e.name&&t.message==e.message;case B:return t!=+t?e!=+e:t==+e;case K:case G:return t==e+""}return!1}function $n(t,e,n,r,i,a,o){var u=Va(t),l=u.length,s=Va(e).length;if(l!=s&&!i)return!1;for(s=l;s--;){var c=u[s];if(!(i?c in e:ti.call(e,c)))return!1}for(var f=i;++s<l;){var c=u[s],d=t[c],p=e[c],h=r?r(i?p:d,i?d:p,c):y;if(h===y?!n(d,p,r,i,a,o):!h)return!1;f||(f="constructor"==c)}return f||(n=t.constructor,r=e.constructor,!(n!=r&&"constructor"in t&&"constructor"in e)||"function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)?!0:!1}function yn(t,e,n){var r=Ot.callback||Ir,r=r===Ir?re:r;return n?r(t,e,n):r}function wn(t){for(var e=t.name+"",n=Ai[e],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function _n(t,e,r){var i=Ot.indexOf||Bn,i=i===Bn?n:i;return t?i(t,e,r):i}function jn(t){t=Er(t);for(var e=t.length;e--;){var n=t[e][1];t[e][2]=n===n&&!mr(n)}return t}function xn(t,e){var n=null==t?y:t[e];return br(n)?n:y}function kn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ti.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Tn(t){return t=t.constructor,"function"==typeof t&&t instanceof t||(t=Br),new t}function Dn(t,e,n){var r=t.constructor;switch(e){case Z:return Ue(t);case H:case q:return new r(+t);case J:case X:case Q:case tt:case et:case nt:case rt:case it:case at:return e=t.buffer,new r(n?Ue(e):e,t.byteOffset,t.length);case B:case G:return new r(t);case K:var i=new r(t.source,xt.exec(t));i.lastIndex=t.lastIndex}return i}function En(t,e,n){return null==t||An(e,t)||(e=Nn(e),t=1==e.length?t:me(t,Ee(e,0,-1)),e=Wn(e)),e=null==t?t:t[e],null==e?y:e.apply(t,n)}function Sn(t){return null!=t&&In(Ui(t))}function Fn(t,e){return t="number"==typeof t||Dt.test(t)?+t:-1,e=null==e?Fi:e,t>-1&&0==t%1&&e>t}function Cn(t,e,n){if(!mr(n))return!1;var r=typeof e;return("number"==r?Sn(n)&&Fn(e,n.length):"string"==r&&e in n)?(e=n[e],t===t?t===e:e!==e):!1}function An(t,e){var n=typeof t;return"string"==n&&bt.test(t)||"number"==n?!0:Da(t)?!1:!mt.test(t)||null!=e&&t in Un(e)}function Mn(t){var e=wn(t),n=Ot[e];return"function"==typeof n&&e in Vt.prototype?t===n?!0:(e=Li(n),!!e&&t===e[0]):!1}function In(t){return"number"==typeof t&&t>-1&&0==t%1&&Fi>=t}function On(t,e){return t===y?e:Ea(t,e,On)}function Rn(t,e){t=Un(t);for(var n=-1,r=e.length,i={};++n<r;){var a=e[n];a in t&&(i[a]=t[a])}return i}function Pn(t,e){var n={};return de(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function Vn(t){for(var e=Dr(t),n=e.length,r=n&&t.length,i=!!r&&In(r)&&(Da(t)||dr(t)),a=-1,o=[];++a<n;){var u=e[a];(i&&Fn(u,r)||ti.call(t,u))&&o.push(u)}return o}function Ln(t){return null==t?[]:Sn(t)?mr(t)?t:Br(t):Sr(t)}function Un(t){return mr(t)?t:Br(t)}function Nn(t){if(Da(t))return t;var e=[];return i(t).replace(vt,function(t,n,r,i){e.push(r?i.replace(_t,"$1"):n||t)}),e}function Hn(t){return t instanceof Vt?t.clone():new Pt(t.__wrapped__,t.__chain__,Ht(t.__actions__))}function qn(t,e,n){return t&&t.length?((n?Cn(t,e,n):null==e)&&(e=1),Ee(t,0>e?0:e)):[]}function zn(t,e,n){var r=t?t.length:0;return r?((n?Cn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ee(t,0,0>e?0:e)):[]}function Yn(t){return t?t[0]:y}function Bn(t,e,r){var i=t?t.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?wi(i+r,0):r;else if(r)return r=Pe(t,e),i>r&&(e===e?e===t[r]:t[r]!==t[r])?r:-1;return n(t,e,r||0)}function Wn(t){var e=t?t.length:0;return e?t[e-1]:y}function Kn(t){return qn(t,1)}function Gn(t,e,r,i){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(i=r,r=Cn(t,e,i)?y:e,e=!1);var a=yn();if((null!=r||a!==re)&&(r=a(r,i,3)),e&&_n()===n){e=r;var o;r=-1,i=t.length;for(var a=-1,u=[];++r<i;){var l=t[r],s=e?e(l,r,t):l;r&&o===s||(o=s,u[++a]=l)}t=u}else t=Me(t,r);return t}function Zn(t){if(!t||!t.length)return[];var e=-1,n=0;t=Yt(t,function(t){return Sn(t)?(n=wi(t.length,n),!0):void 0});for(var r=Ur(n);++e<n;)r[e]=Kt(t,je(e));return r}function Jn(t,e,n){return t&&t.length?(t=Zn(t),null==e?t:(e=Le(e,n,4),Kt(t,function(t){return Zt(t,e,y,!0)}))):[]}function Xn(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Da(t[0])||(e=[]);++n<r;){var a=t[n];e?i[a]=e[n]:a&&(i[a[0]]=a[1])}return i}function Qn(t){return t=Ot(t),t.__chain__=!0,t}function tr(t,e,n){return e.call(n,t)}function er(t,e,n){var r=Da(t)?zt:ue;return n&&Cn(t,e,n)&&(e=y),("function"!=typeof e||n!==y)&&(e=yn(e,n,3)),r(t,e)}function nr(t,e,n){var r=Da(t)?Yt:se;return e=yn(e,n,3),r(t,e)}function rr(t,e,n,r){var i=t?Ui(t):0;return In(i)||(t=Sr(t),i=t.length),n="number"!=typeof n||r&&Cn(e,n,r)?0:0>n?wi(i+n,0):n||0,"string"==typeof t||!Da(t)&&wr(t)?i>=n&&-1<t.indexOf(e,n):!!i&&-1<_n(t,e,n)}function ir(t,e,n){var r=Da(t)?Kt:$e;return e=yn(e,n,3),r(t,e)}function ar(t,e,n){if(n?Cn(t,e,n):null==e){t=Ln(t);var r=t.length;return r>0?t[Te(0,r-1)]:y}n=-1,t=xr(t);var r=t.length,i=r-1;for(e=_i(0>e?0:+e||0,r);++n<e;){var r=Te(n,i),a=t[r];t[r]=t[n],t[n]=a}return t.length=e,t}function or(t,e,n){var r=Da(t)?Jt:Se;return n&&Cn(t,e,n)&&(e=y),("function"!=typeof e||n!==y)&&(e=yn(e,n,3)),r(t,e)}function ur(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Gr(V);var r=t;t=e,e=r}return function(){return 0<--t&&(n=e.apply(this,arguments)),1>=t&&(e=y),n}}function lr(t,e,n){function r(e,n){n&&oi(n),l=d=p=y,e&&(h=pa(),s=t.apply(f,u),d||l||(u=f=y))}function i(){var t=e-(pa()-c);0>=t||t>e?r(p,l):d=fi(i,t)}function a(){r(m,d)}function o(){if(u=arguments,c=pa(),f=this,p=m&&(d||!b),!1===g)var n=b&&!d;else{l||b||(h=c);var r=g-(c-h),o=0>=r||r>g;o?(l&&(l=oi(l)),h=c,s=t.apply(f,u)):l||(l=fi(a,r))}return o&&d?d=oi(d):d||e===g||(d=fi(i,e)),n&&(o=!0,s=t.apply(f,u)),!o||d||l||(u=f=y),s}var u,l,s,c,f,d,p,h=0,g=!1,m=!0;if("function"!=typeof t)throw new Gr(V);if(e=0>e?0:+e||0,!0===n)var b=!0,m=!1;else mr(n)&&(b=!!n.leading,g="maxWait"in n&&wi(+n.maxWait||0,e),m="trailing"in n?!!n.trailing:m);return o.cancel=function(){d&&oi(d),l&&oi(l),h=0,l=d=p=y},o}function sr(t,e){function n(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;return a.has(i)?a.get(i):(r=t.apply(this,r),n.cache=a.set(i,r),r)}if("function"!=typeof t||e&&"function"!=typeof e)throw new Gr(V);return n.cache=new sr.Cache,n}function cr(t,e){if("function"!=typeof t)throw new Gr(V);return e=wi(e===y?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=wi(n.length-e,0),a=Ur(i);++r<i;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}for(i=Ur(e+1),r=-1;++r<e;)i[r]=n[r];return i[e]=a,t.apply(this,i)}}function fr(t,e){return t>e}function dr(t){return p(t)&&Sn(t)&&ti.call(t,"callee")&&!si.call(t,"callee")}function pr(t,e,n,r){return r=(n="function"==typeof n?Le(n,r,3):y)?n(t,e):y,r===y?be(t,e,n):!!r}function hr(t){return p(t)&&"string"==typeof t.message&&ni.call(t)==z}function gr(t){return mr(t)&&ni.call(t)==Y}function mr(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function br(t){return null==t?!1:gr(t)?ii.test(Qr.call(t)):p(t)&&Tt.test(t)}function vr(t){return"number"==typeof t||p(t)&&ni.call(t)==B}function $r(t){var e;if(!p(t)||ni.call(t)!=W||dr(t)||!(ti.call(t,"constructor")||(e=t.constructor,"function"!=typeof e||e instanceof e)))return!1;var n;return de(t,function(t,e){n=e}),n===y||ti.call(t,n)}function yr(t){return mr(t)&&ni.call(t)==K}function wr(t){return"string"==typeof t||p(t)&&ni.call(t)==G}function _r(t){return p(t)&&In(t.length)&&!!Mt[ni.call(t)]}function jr(t,e){return e>t}function xr(t){var e=t?Ui(t):0;return In(e)?e?Ht(t):[]:Sr(t)}function kr(t){return ne(t,Dr(t))}function Tr(t){return ge(t,Dr(t))}function Dr(t){if(null==t)return[];mr(t)||(t=Br(t));for(var e=t.length,e=e&&In(e)&&(Da(t)||dr(t))&&e||0,n=t.constructor,r=-1,n="function"==typeof n&&n.prototype===t,i=Ur(e),a=e>0;++r<e;)i[r]=r+"";for(var o in t)a&&Fn(o,e)||"constructor"==o&&(n||!ti.call(t,o))||i.push(o);return i}function Er(t){t=Un(t);for(var e=-1,n=Va(t),r=n.length,i=Ur(r);++e<r;){var a=n[e];i[e]=[a,t[a]]}return i}function Sr(t){return Ie(t,Va(t))}function Fr(t){return(t=i(t))&&t.replace(Et,l).replace(wt,"")}function Cr(t,e){var n="";if(t=i(t),e=+e,1>e||!t||!$i(e))return n;do e%2&&(n+=t),e=bi(e/2),t+=t;while(e);return n}function Ar(t,e,n){var r=t;return(t=i(t))?(n?Cn(r,e,n):null==e)?t.slice(m(t),b(t)+1):(e+="",t.slice(a(t,e),o(t,e)+1)):t}function Mr(t,e,n){return n&&Cn(t,e,n)&&(e=y),t=i(t),t.match(e||Ct)||[]}function Ir(t,e,n){return n&&Cn(t,e,n)&&(e=y),p(t)?Rr(t):re(t,e)}function Or(t){return t}function Rr(t){return ye(ie(t,!0))}function Pr(t,e,n){if(null==n){var r=mr(e),i=r?Va(e):y;((i=i&&i.length?ge(e,i):y)?i.length:r)||(i=!1,n=e,e=t,t=this)}i||(i=ge(e,Va(e)));var a=!0,r=-1,o=gr(t),u=i.length;!1===n?a=!1:mr(n)&&"chain"in n&&(a=n.chain);for(;++r<u;){n=i[r];var l=e[n];t[n]=l,o&&(t.prototype[n]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__);return(r.__actions__=Ht(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,Gt([this.value()],arguments))}}(l))}return t}function Vr(){}function Lr(t){return An(t)?je(t):xe(t)}h=h?Wt.defaults(Bt.Object(),h,Wt.pick(Bt,At)):Bt;var Ur=h.Array,Nr=h.Date,Hr=h.Error,qr=h.Function,zr=h.Math,Yr=h.Number,Br=h.Object,Wr=h.RegExp,Kr=h.String,Gr=h.TypeError,Zr=Ur.prototype,Jr=Br.prototype,Xr=Kr.prototype,Qr=qr.prototype.toString,ti=Jr.hasOwnProperty,ei=0,ni=Jr.toString,ri=Bt._,ii=Wr("^"+Qr.call(ti).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ai=h.ArrayBuffer,oi=h.clearTimeout,ui=h.parseFloat,li=zr.pow,si=Jr.propertyIsEnumerable,ci=xn(h,"Set"),fi=h.setTimeout,di=Zr.splice,pi=h.Uint8Array,hi=xn(h,"WeakMap"),gi=zr.ceil,mi=xn(Br,"create"),bi=zr.floor,vi=xn(Ur,"isArray"),$i=h.isFinite,yi=xn(Br,"keys"),wi=zr.max,_i=zr.min,ji=xn(Nr,"now"),xi=h.parseInt,ki=zr.random,Ti=Yr.NEGATIVE_INFINITY,Di=Yr.POSITIVE_INFINITY,Ei=4294967294,Si=2147483647,Fi=9007199254740991,Ci=hi&&new hi,Ai={};Ot.support={},Ot.templateSettings={escape:pt,evaluate:ht,interpolate:gt,variable:"",imports:{_:Ot}};var Mi=function(){function t(){}return function(e){if(mr(e)){t.prototype=e;var n=new t;t.prototype=y}return n||{}}}(),Ii=Ye(pe),Oi=Ye(he,!0),Ri=Be(),Pi=Be(!0),Vi=Ci?function(t,e){return Ci.set(t,e),t}:Or,Li=Ci?function(t){return Ci.get(t)}:Vr,Ui=je("length"),Ni=function(){var t=0,e=0;return function(n,r){var i=pa(),a=I-(i-e);if(e=i,a>0){if(++t>=M)return n}else t=0;return Vi(n,r)}}(),Hi=cr(function(t,e){return p(t)&&Sn(t)?oe(t,fe(e,!1,!0)):[]}),qi=tn(),zi=tn(!0),Yi=cr(function(t){for(var e=t.length,r=e,i=Ur(c),a=_n(),o=a===n,u=[];r--;){var l=t[r]=Sn(l=t[r])?l:[];i[r]=o&&120<=l.length&&mi&&ci?new Ut(r&&l):null}var o=t[0],s=-1,c=o?o.length:0,f=i[0];t:for(;++s<c;)if(l=o[s],0>(f?Nt(f,l):a(u,l,0))){for(r=e;--r;){var d=i[r];if(0>(d?Nt(d,l):a(t[r],l,0)))continue t}f&&f.push(l),u.push(l)}return u}),Bi=cr(function(e,n){n=fe(n);var r=ee(e,n);return ke(e,n.sort(t)),r}),Wi=gn(),Ki=gn(!0),Gi=cr(function(t){return Me(fe(t,!1,!0))}),Zi=cr(function(t,e){return Sn(t)?oe(t,e):[]}),Ji=cr(Zn),Xi=cr(function(t){var e=t.length,n=e>2?t[e-2]:y,r=e>1?t[e-1]:y;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):y,r=y),t.length=e,Jn(t,n,r)}),Qi=cr(function(t){return t=fe(t),this.thru(function(e){e=Da(e)?e:[Un(e)];for(var n=t,r=-1,i=e.length,a=-1,o=n.length,u=Ur(i+o);++r<i;)u[r]=e[r];for(;++a<o;)u[r++]=n[a];return u})}),ta=cr(function(t,e){return ee(t,fe(e))}),ea=qe(function(t,e,n){ti.call(t,n)?++t[n]:t[n]=1}),na=Qe(Ii),ra=Qe(Oi,!0),ia=rn(qt,Ii),aa=rn(function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t},Oi),oa=qe(function(t,e,n){ti.call(t,n)?t[n].push(e):t[n]=[e]}),ua=qe(function(t,e,n){t[n]=e}),la=cr(function(t,e,n){var r=-1,i="function"==typeof e,a=An(e),o=Sn(t)?Ur(t.length):[];return Ii(t,function(t){var u=i?e:a&&null!=t?t[e]:y;o[++r]=u?u.apply(t,n):En(t,e,n)}),o}),sa=qe(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ca=cn(Zt,Ii),fa=cn(function(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n},Oi),da=cr(function(t,e){if(null==t)return[];var n=e[2];return n&&Cn(e[0],e[1],n)&&(e.length=1),Ce(t,fe(e),[])}),pa=ji||function(){return(new Nr).getTime()},ha=cr(function(t,e,n){var r=_;if(n.length)var i=g(n,ha.placeholder),r=r|D;return mn(t,r,e,n,i)}),ga=cr(function(t,e){e=e.length?fe(e):Tr(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=mn(t[i],_,t)}return t}),ma=cr(function(t,e,n){var r=_|j;if(n.length)var i=g(n,ma.placeholder),r=r|D;return mn(e,r,t,n,i)}),ba=Ze(k),va=Ze(T),$a=cr(function(t,e){return ae(t,1,e)}),ya=cr(function(t,e,n){return ae(t,e,n)}),wa=nn(),_a=nn(!0),ja=cr(function(t,e){if(e=fe(e),"function"!=typeof t||!zt(e,r))throw new Gr(V);var n=e.length;return cr(function(r){for(var i=_i(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})}),xa=sn(D),ka=sn(E),Ta=cr(function(t,e){return mn(t,F,y,y,y,fe(e))}),Da=vi||function(t){return p(t)&&In(t.length)&&ni.call(t)==N},Ea=ze(_e),Sa=ze(function(t,e,n){return n?Qt(t,e,n):te(t,e)}),Fa=Je(Sa,function(t,e){return t===y?e:t}),Ca=Je(Ea,On),Aa=en(pe),Ma=en(he),Ia=an(Ri),Oa=an(Pi),Ra=on(pe),Pa=on(he),Va=yi?function(t){var e=null==t?y:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Sn(t)?Vn(t):mr(t)?yi(t):[]}:Vn,La=un(!0),Ua=un(),Na=cr(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=Kt(fe(e),Kr),Rn(t,oe(Dr(t),e));var n=Le(e[0],e[1],3);return Pn(t,function(t,e,r){return!n(t,e,r)})}),Ha=cr(function(t,e){return null==t?{}:"function"==typeof e[0]?Pn(t,Le(e[0],e[1],3)):Rn(t,fe(e))}),qa=Ke(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),za=Ke(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ya=ln(),Ba=ln(!0),Wa=Ke(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ka=Ke(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Ga=cr(function(t,e){try{return t.apply(y,e)}catch(n){return hr(n)?n:new Hr(n)}}),Za=cr(function(t,e){return function(n){return En(n,t,e)}}),Ja=cr(function(t,e){return function(n){return En(t,n,e)}}),Xa=hn("ceil"),Qa=hn("floor"),to=Xe(fr,Ti),eo=Xe(jr,Di),no=hn("round");return Ot.prototype=Rt.prototype,Pt.prototype=Mi(Rt.prototype),Pt.prototype.constructor=Pt,Vt.prototype=Mi(Rt.prototype),Vt.prototype.constructor=Vt,Lt.prototype["delete"]=function(t){return this.has(t)&&delete this.__data__[t]},Lt.prototype.get=function(t){return"__proto__"==t?y:this.__data__[t]},Lt.prototype.has=function(t){return"__proto__"!=t&&ti.call(this.__data__,t)},Lt.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Ut.prototype.push=function(t){var e=this.data;"string"==typeof t||mr(t)?e.set.add(t):e.hash[t]=!0},sr.Cache=Lt,Ot.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Gr(V);var n=t;t=e,e=n}return t=$i(t=+t)?t:0,function(){return 1>--t?e.apply(this,arguments):void 0}},Ot.ary=function(t,e,n){return n&&Cn(t,e,n)&&(e=y),e=t&&null==e?t.length:wi(+e||0,0),mn(t,S,y,y,y,y,e)},Ot.assign=Sa,Ot.at=ta,Ot.before=ur,Ot.bind=ha,Ot.bindAll=ga,Ot.bindKey=ma,Ot.callback=Ir,Ot.chain=Qn,Ot.chunk=function(t,e,n){e=(n?Cn(t,e,n):null==e)?1:wi(bi(e)||1,1),n=0;for(var r=t?t.length:0,i=-1,a=Ur(gi(r/e));r>n;)a[++i]=Ee(t,n,n+=e);return a},Ot.compact=function(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var a=t[e];a&&(i[++r]=a)}return i},Ot.constant=function(t){return function(){return t}},Ot.countBy=ea,Ot.create=function(t,e,n){var r=Mi(t);return n&&Cn(t,e,n)&&(e=y),e?te(r,e):r},Ot.curry=ba,Ot.curryRight=va,Ot.debounce=lr,Ot.defaults=Fa,Ot.defaultsDeep=Ca,Ot.defer=$a,Ot.delay=ya,Ot.difference=Hi,Ot.drop=qn,Ot.dropRight=zn,Ot.dropRightWhile=function(t,e,n){return t&&t.length?Oe(t,yn(e,n,3),!0,!0):[]},Ot.dropWhile=function(t,e,n){return t&&t.length?Oe(t,yn(e,n,3),!0):[]},Ot.fill=function(t,e,n,r){var i=t?t.length:0;if(!i)return[];for(n&&"number"!=typeof n&&Cn(t,e,n)&&(n=0,r=i),i=t.length,n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===y||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)t[n++]=e;return t},Ot.filter=nr,Ot.flatten=function(t,e,n){var r=t?t.length:0;return n&&Cn(t,e,n)&&(e=!1),r?fe(t,e):[]},Ot.flattenDeep=function(t){return t&&t.length?fe(t,!0):[]},Ot.flow=wa,Ot.flowRight=_a,Ot.forEach=ia,Ot.forEachRight=aa,Ot.forIn=Ia,Ot.forInRight=Oa,Ot.forOwn=Ra,Ot.forOwnRight=Pa,Ot.functions=Tr,Ot.groupBy=oa,Ot.indexBy=ua,Ot.initial=function(t){return zn(t,1)},Ot.intersection=Yi,Ot.invert=function(t,e,n){n&&Cn(t,e,n)&&(e=y),n=-1;for(var r=Va(t),i=r.length,a={};++n<i;){var o=r[n],u=t[o];e?ti.call(a,u)?a[u].push(o):a[u]=[o]:a[u]=o}return a},Ot.invoke=la,Ot.keys=Va,Ot.keysIn=Dr,Ot.map=ir,Ot.mapKeys=La,Ot.mapValues=Ua,Ot.matches=Rr,Ot.matchesProperty=function(t,e){
return we(t,ie(e,!0))},Ot.memoize=sr,Ot.merge=Ea,Ot.method=Za,Ot.methodOf=Ja,Ot.mixin=Pr,Ot.modArgs=ja,Ot.negate=function(t){if("function"!=typeof t)throw new Gr(V);return function(){return!t.apply(this,arguments)}},Ot.omit=Na,Ot.once=function(t){return ur(2,t)},Ot.pairs=Er,Ot.partial=xa,Ot.partialRight=ka,Ot.partition=sa,Ot.pick=Ha,Ot.pluck=function(t,e){return ir(t,Lr(e))},Ot.property=Lr,Ot.propertyOf=function(t){return function(e){return me(t,Nn(e),e+"")}},Ot.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=_n(),i=t.length;++n<i;)for(var a=0,o=t[n];-1<(a=r(e,o,a));)di.call(e,a,1);return e},Ot.pullAt=Bi,Ot.range=function(t,e,n){n&&Cn(t,e,n)&&(e=n=y),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;var r=-1;e=wi(gi((e-t)/(n||1)),0);for(var i=Ur(e);++r<e;)i[r]=t,t+=n;return i},Ot.rearg=Ta,Ot.reject=function(t,e,n){var r=Da(t)?Yt:se;return e=yn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})},Ot.remove=function(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,a=[],o=t.length;for(e=yn(e,n,3);++i<o;)n=t[i],e(n,i,t)&&(r.push(n),a.push(i));return ke(t,a),r},Ot.rest=Kn,Ot.restParam=cr,Ot.set=function(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||An(e,t)?[r]:Nn(e);for(var r=-1,i=e.length,a=i-1,o=t;null!=o&&++r<i;){var u=e[r];mr(o)&&(r==a?o[u]=n:null==o[u]&&(o[u]=Fn(e[r+1])?[]:{})),o=o[u]}return t},Ot.shuffle=function(t){return ar(t,Di)},Ot.slice=function(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Cn(t,e,n)&&(e=0,n=r),Ee(t,e,n)):[]},Ot.sortBy=function(t,e,n){if(null==t)return[];n&&Cn(t,e,n)&&(e=y);var r=-1;return e=yn(e,n,3),t=$e(t,function(t,n,i){return{a:e(t,n,i),b:++r,c:t}}),Fe(t,u)},Ot.sortByAll=da,Ot.sortByOrder=function(t,e,n,r){return null==t?[]:(r&&Cn(e,n,r)&&(n=y),Da(e)||(e=null==e?[]:[e]),Da(n)||(n=null==n?[]:[n]),Ce(t,e,n))},Ot.spread=function(t){if("function"!=typeof t)throw new Gr(V);return function(e){return t.apply(this,e)}},Ot.take=function(t,e,n){return t&&t.length?((n?Cn(t,e,n):null==e)&&(e=1),Ee(t,0,0>e?0:e)):[]},Ot.takeRight=function(t,e,n){var r=t?t.length:0;return r?((n?Cn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ee(t,0>e?0:e)):[]},Ot.takeRightWhile=function(t,e,n){return t&&t.length?Oe(t,yn(e,n,3),!1,!0):[]},Ot.takeWhile=function(t,e,n){return t&&t.length?Oe(t,yn(e,n,3)):[]},Ot.tap=function(t,e,n){return e.call(n,t),t},Ot.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Gr(V);return!1===n?r=!1:mr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),lr(t,e,{leading:r,maxWait:+e,trailing:i})},Ot.thru=tr,Ot.times=function(t,e,n){if(t=bi(t),1>t||!$i(t))return[];var r=-1,i=Ur(_i(t,4294967295));for(e=Le(e,n,1);++r<t;)4294967295>r?i[r]=e(r):e(r);return i},Ot.toArray=xr,Ot.toPlainObject=kr,Ot.transform=function(t,e,n,r){var i=Da(t)||_r(t);return e=yn(e,r,4),null==n&&(i||mr(t)?(r=t.constructor,n=i?Da(t)?new r:[]:Mi(gr(r)?r.prototype:y)):n={}),(i?qt:pe)(t,function(t,r,i){return e(n,t,r,i)}),n},Ot.union=Gi,Ot.uniq=Gn,Ot.unzip=Zn,Ot.unzipWith=Jn,Ot.values=Sr,Ot.valuesIn=function(t){return Ie(t,Dr(t))},Ot.where=function(t,e){return nr(t,ye(e))},Ot.without=Zi,Ot.wrap=function(t,e){return e=null==e?Or:e,mn(e,D,y,[t],[])},Ot.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Sn(n))var r=r?Gt(oe(r,n),oe(n,r)):n}return r?Me(r):[]},Ot.zip=Ji,Ot.zipObject=Xn,Ot.zipWith=Xi,Ot.backflow=_a,Ot.collect=ir,Ot.compose=_a,Ot.each=ia,Ot.eachRight=aa,Ot.extend=Sa,Ot.iteratee=Ir,Ot.methods=Tr,Ot.object=Xn,Ot.select=nr,Ot.tail=Kn,Ot.unique=Gn,Pr(Ot,Ot),Ot.add=function(t,e){return(+t||0)+(+e||0)},Ot.attempt=Ga,Ot.camelCase=qa,Ot.capitalize=function(t){return(t=i(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Ot.ceil=Xa,Ot.clone=function(t,e,n,r){return e&&"boolean"!=typeof e&&Cn(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?ie(t,e,Le(n,r,3)):ie(t,e)},Ot.cloneDeep=function(t,e,n){return"function"==typeof e?ie(t,!0,Le(e,n,3)):ie(t,!0)},Ot.deburr=Fr,Ot.endsWith=function(t,e,n){t=i(t),e+="";var r=t.length;return n=n===y?r:_i(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n},Ot.escape=function(t){return(t=i(t))&&dt.test(t)?t.replace(ct,s):t},Ot.escapeRegExp=function(t){return(t=i(t))&&yt.test(t)?t.replace($t,c):t||"(?:)"},Ot.every=er,Ot.find=na,Ot.findIndex=qi,Ot.findKey=Aa,Ot.findLast=ra,Ot.findLastIndex=zi,Ot.findLastKey=Ma,Ot.findWhere=function(t,e){return na(t,ye(e))},Ot.first=Yn,Ot.floor=Qa,Ot.get=function(t,e,n){return t=null==t?y:me(t,Nn(e),e+""),t===y?n:t},Ot.gt=fr,Ot.gte=function(t,e){return t>=e},Ot.has=function(t,e){if(null==t)return!1;var n=ti.call(t,e);if(!n&&!An(e)){if(e=Nn(e),t=1==e.length?t:me(t,Ee(e,0,-1)),null==t)return!1;e=Wn(e),n=ti.call(t,e)}return n||In(t.length)&&Fn(e,t.length)&&(Da(t)||dr(t))},Ot.identity=Or,Ot.includes=rr,Ot.indexOf=Bn,Ot.inRange=function(t,e,n){return e=+e||0,n===y?(n=e,e=0):n=+n||0,t>=_i(e,n)&&t<wi(e,n)},Ot.isArguments=dr,Ot.isArray=Da,Ot.isBoolean=function(t){return!0===t||!1===t||p(t)&&ni.call(t)==H},Ot.isDate=function(t){return p(t)&&ni.call(t)==q},Ot.isElement=function(t){return!!t&&1===t.nodeType&&p(t)&&!$r(t)},Ot.isEmpty=function(t){return null==t?!0:Sn(t)&&(Da(t)||wr(t)||dr(t)||p(t)&&gr(t.splice))?!t.length:!Va(t).length},Ot.isEqual=pr,Ot.isError=hr,Ot.isFinite=function(t){return"number"==typeof t&&$i(t)},Ot.isFunction=gr,Ot.isMatch=function(t,e,n,r){return n="function"==typeof n?Le(n,r,3):y,ve(t,jn(e),n)},Ot.isNaN=function(t){return vr(t)&&t!=+t},Ot.isNative=br,Ot.isNull=function(t){return null===t},Ot.isNumber=vr,Ot.isObject=mr,Ot.isPlainObject=$r,Ot.isRegExp=yr,Ot.isString=wr,Ot.isTypedArray=_r,Ot.isUndefined=function(t){return t===y},Ot.kebabCase=za,Ot.last=Wn,Ot.lastIndexOf=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?wi(r+n,0):_i(n||0,r-1))+1;else if(n)return i=Pe(t,e,!0)-1,t=t[i],(e===e?e===t:t!==t)?i:-1;if(e!==e)return d(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1},Ot.lt=jr,Ot.lte=function(t,e){return e>=t},Ot.max=to,Ot.min=eo,Ot.noConflict=function(){return Bt._=ri,this},Ot.noop=Vr,Ot.now=pa,Ot.pad=function(t,e,n){t=i(t),e=+e;var r=t.length;return e>r&&$i(e)?(r=(e-r)/2,e=bi(r),r=gi(r),n=dn("",r,n),n.slice(0,e)+t+n):t},Ot.padLeft=Ya,Ot.padRight=Ba,Ot.parseInt=function(t,e,n){return(n?Cn(t,e,n):null==e)?e=0:e&&(e=+e),t=Ar(t),xi(t,e||(kt.test(t)?16:10))},Ot.random=function(t,e,n){n&&Cn(t,e,n)&&(e=n=y);var r=null==t,i=null==e;return null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1?(n=ki(),_i(t+n*(e-t+ui("1e-"+((n+"").length-1))),e)):Te(t,e)},Ot.reduce=ca,Ot.reduceRight=fa,Ot.repeat=Cr,Ot.result=function(t,e,n){var r=null==t?y:t[e];return r===y&&(null==t||An(e,t)||(e=Nn(e),t=1==e.length?t:me(t,Ee(e,0,-1)),r=null==t?y:t[Wn(e)]),r=r===y?n:r),gr(r)?r.call(t):r},Ot.round=no,Ot.runInContext=$,Ot.size=function(t){var e=t?Ui(t):0;return In(e)?e:Va(t).length},Ot.snakeCase=Wa,Ot.some=or,Ot.sortedIndex=Wi,Ot.sortedLastIndex=Ki,Ot.startCase=Ka,Ot.startsWith=function(t,e,n){return t=i(t),n=null==n?0:_i(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n},Ot.sum=function(t,e,n){if(n&&Cn(t,e,n)&&(e=y),e=yn(e,n,3),1==e.length){t=Da(t)?t:Ln(t),n=t.length;for(var r=0;n--;)r+=+e(t[n])||0;t=r}else t=Ae(t,e);return t},Ot.template=function(t,e,n){var r=Ot.templateSettings;n&&Cn(t,e,n)&&(e=n=y),t=i(t),e=Qt(te({},n||e),r,Xt),n=Qt(te({},e.imports),r.imports,Xt);var a,o,u=Va(n),l=Ie(n,u),s=0;n=e.interpolate||St;var c="__p+='";n=Wr((e.escape||St).source+"|"+n.source+"|"+(n===gt?jt:St).source+"|"+(e.evaluate||St).source+"|$","g");var d="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(n,function(e,n,r,i,u,l){return r||(r=i),c+=t.slice(s,l).replace(Ft,f),n&&(a=!0,c+="'+__e("+n+")+'"),u&&(o=!0,c+="';"+u+";\n__p+='"),r&&(c+="'+((__t=("+r+"))==null?'':__t)+'"),s=l+e.length,e}),c+="';",(e=e.variable)||(c="with(obj){"+c+"}"),c=(o?c.replace(ot,""):c).replace(ut,"$1").replace(lt,"$1;"),c="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(a?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",e=Ga(function(){return qr(u,d+"return "+c).apply(y,l)}),e.source=c,hr(e))throw e;return e},Ot.trim=Ar,Ot.trimLeft=function(t,e,n){var r=t;return(t=i(t))?t.slice((n?Cn(r,e,n):null==e)?m(t):a(t,e+"")):t},Ot.trimRight=function(t,e,n){var r=t;return(t=i(t))?(n?Cn(r,e,n):null==e)?t.slice(0,b(t)+1):t.slice(0,o(t,e+"")+1):t},Ot.trunc=function(t,e,n){n&&Cn(t,e,n)&&(e=y);var r=C;if(n=A,null!=e)if(mr(e)){var a="separator"in e?e.separator:a,r="length"in e?+e.length||0:r;n="omission"in e?i(e.omission):n}else r=+e||0;if(t=i(t),r>=t.length)return t;if(r-=n.length,1>r)return n;if(e=t.slice(0,r),null==a)return e+n;if(yr(a)){if(t.slice(r).search(a)){var o,u=t.slice(0,r);for(a.global||(a=Wr(a.source,(xt.exec(a)||"")+"g")),a.lastIndex=0;t=a.exec(u);)o=t.index;e=e.slice(0,null==o?r:o)}}else t.indexOf(a,r)!=r&&(a=e.lastIndexOf(a),a>-1&&(e=e.slice(0,a)));return e+n},Ot.unescape=function(t){return(t=i(t))&&ft.test(t)?t.replace(st,v):t},Ot.uniqueId=function(t){var e=++ei;return i(t)+e},Ot.words=Mr,Ot.all=er,Ot.any=or,Ot.contains=rr,Ot.eq=pr,Ot.detect=na,Ot.foldl=ca,Ot.foldr=fa,Ot.head=Yn,Ot.include=rr,Ot.inject=ca,Pr(Ot,function(){var t={};return pe(Ot,function(e,n){Ot.prototype[n]||(t[n]=e)}),t}(),!1),Ot.sample=ar,Ot.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ar(e,t)}):ar(this.value())},Ot.VERSION=w,qt("bind bindKey curry curryRight partial partialRight".split(" "),function(t){Ot[t].placeholder=Ot}),qt(["drop","take"],function(t,e){Vt.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new Vt(this);n=null==n?1:wi(bi(n)||0,0);var i=this.clone();return r?i.__takeCount__=_i(i.__takeCount__,n):i.__views__.push({size:n,type:t+(0>i.__dir__?"Right":"")}),i},Vt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),qt(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=P;Vt.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:yn(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),qt(["first","last"],function(t,e){var n="take"+(e?"Right":"");Vt.prototype[t]=function(){return this[n](1).value()[0]}}),qt(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Vt.prototype[t]=function(){return this.__filtered__?new Vt(this):this[n](1)}}),qt(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?ye:Lr;Vt.prototype[t]=function(t){return this[n](r(t))}}),Vt.prototype.compact=function(){return this.filter(Or)},Vt.prototype.reject=function(t,e){return t=yn(t,e,1),this.filter(function(e){return!t(e)})},Vt.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||0>e)?new Vt(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==y&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n)},Vt.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Vt.prototype.toArray=function(){return this.take(Di)},pe(Vt.prototype,function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),r=/^(?:first|last)$/.test(e),i=Ot[r?"take"+("last"==e?"Right":""):e];i&&(Ot.prototype[e]=function(){function e(t){return r&&o?i(t,1)[0]:i.apply(y,Gt([t],a))}var a=r?[1]:arguments,o=this.__chain__,u=this.__wrapped__,l=!!this.__actions__.length,s=u instanceof Vt,c=a[0],f=s||Da(u);return f&&n&&"function"==typeof c&&1!=c.length&&(s=f=!1),c={func:tr,args:[e],thisArg:y},l=s&&!l,r&&!o?l?(u=u.clone(),u.__actions__.push(c),t.call(u)):i.call(y,this.value())[0]:!r&&f?(u=l?u:new Vt(this),u=t.apply(u,a),u.__actions__.push(c),new Pt(u,o)):this.thru(e)})}),qt("join pop push replace shift sort splice split unshift".split(" "),function(t){var e=(/^(?:replace|split)$/.test(t)?Xr:Zr)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);Ot.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),pe(Vt.prototype,function(t,e){var n=Ot[e];if(n){var r=n.name+"";(Ai[r]||(Ai[r]=[])).push({name:e,func:n})}}),Ai[fn(y,j).name]=[{name:"wrapper",func:y}],Vt.prototype.clone=function(){var t=new Vt(this.__wrapped__);return t.__actions__=Ht(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ht(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ht(this.__views__),t},Vt.prototype.reverse=function(){if(this.__filtered__){var t=new Vt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Vt.prototype.value=function(){var t,e=this.__wrapped__.value(),n=this.__dir__,r=Da(e),i=0>n,a=r?e.length:0;t=a;for(var o=this.__views__,u=0,l=-1,s=o.length;++l<s;){var c=o[l],f=c.size;switch(c.type){case"drop":u+=f;break;case"dropRight":t-=f;break;case"take":t=_i(t,u+f);break;case"takeRight":u=wi(u,t-f)}}if(t={start:u,end:t},o=t.start,u=t.end,t=u-o,i=i?u:o-1,o=this.__iteratees__,u=o.length,l=0,s=_i(t,this.__takeCount__),!r||O>a||a==t&&s==t)return Re(e,this.__actions__);r=[];t:for(;t--&&s>l;){for(i+=n,a=-1,c=e[i];++a<u;){var d=o[a],f=d.type,d=d.iteratee(c);if(f==P)c=d;else if(!d){if(f==R)continue t;break t}}r[l++]=c}return r},Ot.prototype.chain=function(){return Qn(this)},Ot.prototype.commit=function(){return new Pt(this.value(),this.__chain__)},Ot.prototype.concat=Qi,Ot.prototype.plant=function(t){for(var e,n=this;n instanceof Rt;){var r=Hn(n);e?i.__wrapped__=r:e=r;var i=r,n=n.__wrapped__}return i.__wrapped__=t,e},Ot.prototype.reverse=function(){function t(t){return t.reverse()}var e=this.__wrapped__;return e instanceof Vt?(this.__actions__.length&&(e=new Vt(this)),e=e.reverse(),e.__actions__.push({func:tr,args:[t],thisArg:y}),new Pt(e,this.__chain__)):this.thru(t)},Ot.prototype.toString=function(){return this.value()+""},Ot.prototype.run=Ot.prototype.toJSON=Ot.prototype.valueOf=Ot.prototype.value=function(){return Re(this.__wrapped__,this.__actions__)},Ot.prototype.collect=Ot.prototype.map,Ot.prototype.head=Ot.prototype.first,Ot.prototype.select=Ot.prototype.filter,Ot.prototype.tail=Ot.prototype.rest,Ot}var y,w="3.10.1",_=1,j=2,x=4,k=8,T=16,D=32,E=64,S=128,F=256,C=30,A="...",M=150,I=16,O=200,R=1,P=2,V="Expected a function",L="__lodash_placeholder__",U="[object Arguments]",N="[object Array]",H="[object Boolean]",q="[object Date]",z="[object Error]",Y="[object Function]",B="[object Number]",W="[object Object]",K="[object RegExp]",G="[object String]",Z="[object ArrayBuffer]",J="[object Float32Array]",X="[object Float64Array]",Q="[object Int8Array]",tt="[object Int16Array]",et="[object Int32Array]",nt="[object Uint8Array]",rt="[object Uint8ClampedArray]",it="[object Uint16Array]",at="[object Uint32Array]",ot=/\b__p\+='';/g,ut=/\b(__p\+=)''\+/g,lt=/(__e\(.*?\)|\b__t\))\+'';/g,st=/&(?:amp|lt|gt|quot|#39|#96);/g,ct=/[&<>"'`]/g,ft=RegExp(st.source),dt=RegExp(ct.source),pt=/<%-([\s\S]+?)%>/g,ht=/<%([\s\S]+?)%>/g,gt=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,bt=/^\w*$/,vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,$t=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,yt=RegExp($t.source),wt=/[\u0300-\u036f\ufe20-\ufe23]/g,_t=/\\(\\)?/g,jt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xt=/\w*$/,kt=/^0[xX]/,Tt=/^\[object .+?Constructor\]$/,Dt=/^\d+$/,Et=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,St=/($^)/,Ft=/['\n\r\u2028\u2029\\]/g,Ct=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),At="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Mt={};Mt[J]=Mt[X]=Mt[Q]=Mt[tt]=Mt[et]=Mt[nt]=Mt[rt]=Mt[it]=Mt[at]=!0,Mt[U]=Mt[N]=Mt[Z]=Mt[H]=Mt[q]=Mt[z]=Mt[Y]=Mt["[object Map]"]=Mt[B]=Mt[W]=Mt[K]=Mt["[object Set]"]=Mt[G]=Mt["[object WeakMap]"]=!1;var It={};It[U]=It[N]=It[Z]=It[H]=It[q]=It[J]=It[X]=It[Q]=It[tt]=It[et]=It[B]=It[W]=It[K]=It[G]=It[nt]=It[rt]=It[it]=It[at]=!0,It[z]=It[Y]=It["[object Map]"]=It["[object Set]"]=It["[object WeakMap]"]=!1;var Ot={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Rt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Pt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Vt={"function":!0,object:!0},Lt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nt=Vt[typeof exports]&&exports&&!exports.nodeType&&exports,Ht=Vt[typeof module]&&module&&!module.nodeType&&module,qt=Vt[typeof self]&&self&&self.Object&&self,zt=Vt[typeof window]&&window&&window.Object&&window,Yt=Ht&&Ht.exports===Nt&&Nt,Bt=Nt&&Ht&&"object"==typeof global&&global&&global.Object&&global||zt!==(this&&this.window)&&zt||qt||this,Wt=$();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Bt._=Wt,define(function(){return Wt})):Nt&&Ht?Yt?(Ht.exports=Wt)._=Wt:Nt._=Wt:Bt._=Wt}).call(this),!function(){var t=angular.module("restangular",[]);t.provider("Restangular",function(){var t={};t.init=function(t,e){function n(t,e,n,r){var i={};return _.each(_.keys(r),function(a){var o=r[a];o.params=_.extend({},o.params,t.defaultRequestParams[o.method.toLowerCase()]),_.isEmpty(o.params)&&delete o.params,i[a]=t.isSafe(o.method)?function(){return e(_.extend(o,{url:n}))}:function(t){return e(_.extend(o,{url:n,data:t}))}}),i}t.configuration=e;var r=["get","head","options","trace","getlist"];e.isSafe=function(t){return _.contains(r,t.toLowerCase())};var i=/^https?:\/\//i;e.isAbsoluteUrl=function(t){return _.isUndefined(e.absoluteUrl)||_.isNull(e.absoluteUrl)?t&&i.test(t):e.absoluteUrl},e.absoluteUrl=_.isUndefined(e.absoluteUrl)?!0:e.absoluteUrl,t.setSelfLinkAbsoluteUrl=function(t){e.absoluteUrl=t},e.baseUrl=_.isUndefined(e.baseUrl)?"":e.baseUrl,t.setBaseUrl=function(t){return e.baseUrl=/\/$/.test(t)?t.substring(0,t.length-1):t,this},e.extraFields=e.extraFields||[],t.setExtraFields=function(t){return e.extraFields=t,this},e.defaultHttpFields=e.defaultHttpFields||{},t.setDefaultHttpFields=function(t){return e.defaultHttpFields=t,this},e.withHttpValues=function(t,n){return _.defaults(n,t,e.defaultHttpFields)},e.encodeIds=_.isUndefined(e.encodeIds)?!0:e.encodeIds,t.setEncodeIds=function(t){e.encodeIds=t},e.defaultRequestParams=e.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},t.setDefaultRequestParams=function(t,n){var r=[],i=n||t;return _.isUndefined(n)?r.push("common"):_.isArray(t)?r=t:r.push(t),_.each(r,function(t){e.defaultRequestParams[t]=i}),this},t.requestParams=e.defaultRequestParams,e.defaultHeaders=e.defaultHeaders||{},t.setDefaultHeaders=function(n){return e.defaultHeaders=n,t.defaultHeaders=e.defaultHeaders,this},t.defaultHeaders=e.defaultHeaders,e.methodOverriders=e.methodOverriders||[],t.setMethodOverriders=function(t){var n=_.extend([],t);return e.isOverridenMethod("delete",n)&&n.push("remove"),e.methodOverriders=n,this},e.jsonp=_.isUndefined(e.jsonp)?!1:e.jsonp,t.setJsonp=function(t){e.jsonp=t},e.isOverridenMethod=function(t,n){var r=n||e.methodOverriders;return!_.isUndefined(_.find(r,function(e){return e.toLowerCase()===t.toLowerCase()}))},e.urlCreator=e.urlCreator||"path",t.setUrlCreator=function(t){if(!_.has(e.urlCreatorFactory,t))throw new Error("URL Path selected isn't valid");return e.urlCreator=t,this},e.restangularFields=e.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},t.setRestangularFields=function(t){return e.restangularFields=_.extend(e.restangularFields,t),this},e.isRestangularized=function(t){return!!t[e.restangularFields.restangularized]},e.setFieldToElem=function(t,e,n){var r=t.split("."),i=e;return _.each(_.initial(r),function(t){i[t]={},i=i[t]}),i[_.last(r)]=n,this},e.getFieldFromElem=function(t,e){var n=t.split("."),r=e;return _.each(n,function(t){r&&(r=r[t])}),angular.copy(r)},e.setIdToElem=function(t,n){return e.setFieldToElem(e.restangularFields.id,t,n),this},e.getIdFromElem=function(t){return e.getFieldFromElem(e.restangularFields.id,t)},e.isValidId=function(t){return""!==t&&!_.isUndefined(t)&&!_.isNull(t)},e.setUrlToElem=function(t,n){return e.setFieldToElem(e.restangularFields.selfLink,t,n),this},e.getUrlFromElem=function(t){return e.getFieldFromElem(e.restangularFields.selfLink,t)},e.useCannonicalId=_.isUndefined(e.useCannonicalId)?!1:e.useCannonicalId,t.setUseCannonicalId=function(t){return e.useCannonicalId=t,this},e.getCannonicalIdFromElem=function(t){var n=t[e.restangularFields.cannonicalId],r=e.isValidId(n)?n:e.getIdFromElem(t);return r},e.responseInterceptors=e.responseInterceptors||[],e.defaultResponseInterceptor=function(t){return t},e.responseExtractor=function(t,n,r,i,a,o){var u=angular.copy(e.responseInterceptors);u.push(e.defaultResponseInterceptor);var l=t;return _.each(u,function(t){l=t(l,n,r,i,a,o)}),l},t.addResponseInterceptor=function(t){return e.responseInterceptors.push(t),this},e.errorInterceptors=e.errorInterceptors||[],t.addErrorInterceptor=function(t){return e.errorInterceptors.push(t),this},t.setResponseInterceptor=t.addResponseInterceptor,t.setResponseExtractor=t.addResponseInterceptor,t.setErrorInterceptor=t.addErrorInterceptor,e.requestInterceptors=e.requestInterceptors||[],e.defaultInterceptor=function(t,e,n,r,i,a,o){return{element:t,headers:i,params:a,httpConfig:o}},e.fullRequestInterceptor=function(t,n,r,i,a,o,u){var l=angular.copy(e.requestInterceptors),s=e.defaultInterceptor(t,n,r,i,a,o,u);return _.reduce(l,function(t,e){return _.extend(t,e(t.element,n,r,i,t.headers,t.params,t.httpConfig))},s)},t.addRequestInterceptor=function(t){return e.requestInterceptors.push(function(e,n,r,i,a,o,u){return{headers:a,params:o,element:t(e,n,r,i),httpConfig:u}}),this},t.setRequestInterceptor=t.addRequestInterceptor,t.addFullRequestInterceptor=function(t){return e.requestInterceptors.push(t),this},t.setFullRequestInterceptor=t.addFullRequestInterceptor,e.onBeforeElemRestangularized=e.onBeforeElemRestangularized||function(t){return t},t.setOnBeforeElemRestangularized=function(t){return e.onBeforeElemRestangularized=t,this},t.setRestangularizePromiseInterceptor=function(t){return e.restangularizePromiseInterceptor=t,this},e.onElemRestangularized=e.onElemRestangularized||function(t){return t},t.setOnElemRestangularized=function(t){return e.onElemRestangularized=t,this},e.shouldSaveParent=e.shouldSaveParent||function(){return!0},t.setParentless=function(t){return _.isArray(t)?e.shouldSaveParent=function(e){return!_.contains(t,e)}:_.isBoolean(t)&&(e.shouldSaveParent=function(){return!t}),this},e.suffix=_.isUndefined(e.suffix)?null:e.suffix,t.setRequestSuffix=function(t){return e.suffix=t,this},e.transformers=e.transformers||{},t.addElementTransformer=function(n,r,i){var a=null,o=null;2===arguments.length?o=r:(o=i,a=r);var u=e.transformers[n];return u||(u=e.transformers[n]=[]),u.push(function(t,e){return _.isNull(a)||t===a?o(e):e}),t},t.extendCollection=function(e,n){return t.addElementTransformer(e,!0,n)},t.extendModel=function(e,n){return t.addElementTransformer(e,!1,n)},e.transformElem=function(t,n,r,i,a){if(!a&&!e.transformLocalElements&&!t[e.restangularFields.fromServer])return t;var o=e.transformers[r],u=t;return o&&_.each(o,function(t){u=t(n,u)}),e.onElemRestangularized(u,n,r,i)},e.transformLocalElements=_.isUndefined(e.transformLocalElements)?!1:e.transformLocalElements,t.setTransformOnlyServerElements=function(t){e.transformLocalElements=!t},e.fullResponse=_.isUndefined(e.fullResponse)?!1:e.fullResponse,t.setFullResponse=function(t){return e.fullResponse=t,this},e.urlCreatorFactory={};var a=function(){};a.prototype.setConfig=function(t){return this.config=t,this},a.prototype.parentsArray=function(t){for(var e=[];t;)e.push(t),t=t[this.config.restangularFields.parentResource];return e.reverse()},a.prototype.resource=function(t,r,i,a,o,u,l,s){var c=_.defaults(o||{},this.config.defaultRequestParams.common),f=_.defaults(a||{},this.config.defaultHeaders);l&&(e.isSafe(s)?f["If-None-Match"]=l:f["If-Match"]=l);var d=this.base(t);if(u){var p="";/\/$/.test(d)||(p+="/"),p+=u,d+=p}return this.config.suffix&&-1===d.indexOf(this.config.suffix,d.length-this.config.suffix.length)&&!this.config.getUrlFromElem(t)&&(d+=this.config.suffix),t[this.config.restangularFields.httpConfig]=void 0,n(this.config,r,d,{getList:this.config.withHttpValues(i,{method:"GET",params:c,headers:f}),get:this.config.withHttpValues(i,{method:"GET",params:c,headers:f}),jsonp:this.config.withHttpValues(i,{method:"jsonp",params:c,headers:f}),put:this.config.withHttpValues(i,{method:"PUT",params:c,headers:f}),post:this.config.withHttpValues(i,{method:"POST",params:c,headers:f}),remove:this.config.withHttpValues(i,{method:"DELETE",params:c,headers:f}),head:this.config.withHttpValues(i,{method:"HEAD",params:c,headers:f}),trace:this.config.withHttpValues(i,{method:"TRACE",params:c,headers:f}),options:this.config.withHttpValues(i,{method:"OPTIONS",params:c,headers:f}),patch:this.config.withHttpValues(i,{method:"PATCH",params:c,headers:f})})};var o=function(){};o.prototype=new a,o.prototype.normalizeUrl=function(t){var e=/(http[s]?:\/\/)?(.*)?/.exec(t);return e[2]=e[2].replace(/[\\\/]+/g,"/"),"undefined"!=typeof e[1]?e[1]+e[2]:e[2]},o.prototype.base=function(t){var n=this;return _.reduce(this.parentsArray(t),function(t,r){var i,a=n.config.getUrlFromElem(r);if(a){if(n.config.isAbsoluteUrl(a))return a;i=a}else if(i=r[n.config.restangularFields.route],r[n.config.restangularFields.restangularCollection]){var o=r[n.config.restangularFields.ids];o&&(i+="/"+o.join(","))}else{var u;u=n.config.useCannonicalId?n.config.getCannonicalIdFromElem(r):n.config.getIdFromElem(r),e.isValidId(u)&&!r.singleOne&&(i+="/"+(n.config.encodeIds?encodeURIComponent(u):u))}return t=t.replace(/\/$/,"")+"/"+i,n.normalizeUrl(t)},this.config.baseUrl)},o.prototype.fetchUrl=function(t,e){var n=this.base(t);return e&&(n+="/"+e),n},o.prototype.fetchRequestedUrl=function(t,n){function r(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e.sort()}function i(t,e,n){for(var i=r(t),a=0;a<i.length;a++)e.call(n,t[i[a]],i[a]);return i}function a(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}var o=this.fetchUrl(t,n),u=t[e.restangularFields.reqParams];if(!u)return o+(this.config.suffix||"");var l=[];return i(u,function(t,e){null!==t&&void 0!==t&&(angular.isArray(t)||(t=[t]),angular.forEach(t,function(t){angular.isObject(t)&&(t=angular.toJson(t)),l.push(a(e)+"="+a(t))}))}),o+(this.config.suffix||"")+(-1===o.indexOf("?")?"?":"&")+l.join("&")},e.urlCreatorFactory.path=o};var e={};t.init(this,e),this.$get=["$http","$q",function(n,r){function i(e){function a(t,n,r,i,a){if(n[e.restangularFields.route]=r,n[e.restangularFields.getRestangularUrl]=_.bind(H.fetchUrl,H,n),n[e.restangularFields.getRequestedUrl]=_.bind(H.fetchRequestedUrl,H,n),n[e.restangularFields.addRestangularMethod]=_.bind(V,n),n[e.restangularFields.clone]=_.bind(b,n,n),n[e.restangularFields.reqParams]=_.isEmpty(i)?null:i,n[e.restangularFields.withHttpConfig]=_.bind(T,n),n[e.restangularFields.plain]=_.bind(g,n,n),n[e.restangularFields.restangularized]=!0,n[e.restangularFields.one]=_.bind(o,n,n),n[e.restangularFields.all]=_.bind(u,n,n),n[e.restangularFields.several]=_.bind(l,n,n),n[e.restangularFields.oneUrl]=_.bind(s,n,n),n[e.restangularFields.allUrl]=_.bind(c,n,n),n[e.restangularFields.fromServer]=!!a,t&&e.shouldSaveParent(r)){var f=e.getIdFromElem(t),d=e.getUrlFromElem(t),p=_.union(_.values(_.pick(e.restangularFields,["route","singleOne","parentResource"])),e.extraFields),h=_.pick(t,p);e.isValidId(f)&&e.setIdToElem(h,f,r),e.isValidId(d)&&e.setUrlToElem(h,d,r),n[e.restangularFields.parentResource]=h}else n[e.restangularFields.parentResource]=null;return n}function o(t,n,r,i){var a;if(_.isNumber(n)||_.isNumber(t))throw a="You're creating a Restangular entity with the number ",a+="instead of the route or the parent. For example, you can't call .one(12).",new Error(a);if(_.isUndefined(n))throw a="You're creating a Restangular entity either without the path. ",a+="For example you can't call .one(). Please check if your arguments are valid.",new Error(a);var o={};return e.setIdToElem(o,r,n),e.setFieldToElem(e.restangularFields.singleOne,o,i),v(t,o,n,!1)}function u(t,e){return $(t,[],e,!1)}function l(t,n){var r=[];return r[e.restangularFields.ids]=Array.prototype.splice.call(arguments,2),$(t,r,n,!1)}function s(t,n,r){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return e.setUrlToElem(i,r,n),v(t,i,n,!1)}function c(t,n,r){if(!n)throw new Error("Route is mandatory when creating new Restangular objects.");var i={};return e.setUrlToElem(i,r,n),$(t,i,n,!1)}function f(t,n,r){return t.call=_.bind(d,t),t.get=_.bind(p,t),t[e.restangularFields.restangularCollection]=n,n&&(t.push=_.bind(d,t,"push")),t.$object=r,e.restangularizePromiseInterceptor&&e.restangularizePromiseInterceptor(t),t}function d(t){var n=r.defer(),i=arguments,a={};return this.then(function(e){var r=Array.prototype.slice.call(i,1),o=e[t];o.apply(e,r),a=e,n.resolve(e)}),f(n.promise,this[e.restangularFields.restangularCollection],a)}function p(t){var n=r.defer(),i={};return this.then(function(e){i=e[t],n.resolve(i)}),f(n.promise,this[e.restangularFields.restangularCollection],i)}function h(t,n,r,i){return _.extend(i,r),e.fullResponse?t.resolve(_.extend(n,{data:r})):void t.resolve(r)}function g(t){if(_.isArray(t)){var n=[];return _.each(t,function(t){n.push(e.isRestangularized(t)?g(t):t)}),n}return _.omit(t,_.values(_.omit(e.restangularFields,"id")))}function m(t){t[e.restangularFields.customOperation]=_.bind(P,t),_.each(["put","post","get","delete"],function(e){_.each(["do","custom"],function(n){var r,i="delete"===e?"remove":e,a=n+e.toUpperCase();r="put"!==i&&"post"!==i?P:function(t,e,n,r,i){return _.bind(P,this)(t,n,r,i,e)},t[a]=_.bind(r,t,i)})}),t[e.restangularFields.customGETLIST]=_.bind(k,t),t[e.restangularFields.doGETLIST]=t[e.restangularFields.customGETLIST]}function b(t,n){var r=angular.copy(t,n);return v(r[e.restangularFields.parentResource],r,r[e.restangularFields.route],!0)}function v(t,n,r,i,o,u){var l=e.onBeforeElemRestangularized(n,!1,r),s=a(t,l,r,u,i);return e.useCannonicalId&&(s[e.restangularFields.cannonicalId]=e.getIdFromElem(s)),
o&&(s[e.restangularFields.getParentList]=function(){return o}),s[e.restangularFields.restangularCollection]=!1,s[e.restangularFields.get]=_.bind(S,s),s[e.restangularFields.getList]=_.bind(k,s),s[e.restangularFields.put]=_.bind(C,s),s[e.restangularFields.post]=_.bind(A,s),s[e.restangularFields.remove]=_.bind(F,s),s[e.restangularFields.head]=_.bind(M,s),s[e.restangularFields.trace]=_.bind(I,s),s[e.restangularFields.options]=_.bind(O,s),s[e.restangularFields.patch]=_.bind(R,s),s[e.restangularFields.save]=_.bind(D,s),m(s),e.transformElem(s,!1,r,N,!0)}function $(t,n,r,i,o){var u=e.onBeforeElemRestangularized(n,!0,r),l=a(t,u,r,o,i);return l[e.restangularFields.restangularCollection]=!0,l[e.restangularFields.post]=_.bind(A,l,null),l[e.restangularFields.remove]=_.bind(F,l),l[e.restangularFields.head]=_.bind(M,l),l[e.restangularFields.trace]=_.bind(I,l),l[e.restangularFields.putElement]=_.bind(j,l),l[e.restangularFields.options]=_.bind(O,l),l[e.restangularFields.patch]=_.bind(R,l),l[e.restangularFields.get]=_.bind(w,l),l[e.restangularFields.getList]=_.bind(k,l,null),m(l),e.transformElem(l,!0,r,N,!0)}function y(t,e,n){var r=$(t,e,n,!1);return _.each(r,function(e){v(t,e,n,!1)}),r}function w(t,e,n){return this.customGET(t.toString(),e,n)}function j(t,n,i){var a=this,o=this[t],u=r.defer(),l=[];return l=e.transformElem(l,!0,o[e.restangularFields.route],N),o.put(n,i).then(function(e){var n=b(a);n[t]=e,l=n,u.resolve(n)},function(t){u.reject(t)}),f(u.promise,!0,l)}function x(t,n,r,i,a,o){var u=e.responseExtractor(t,n,r,i,a,o),l=a.headers("ETag");return u&&l&&(u[e.restangularFields.etag]=l),u}function k(t,i,a){var o=this,u=r.defer(),l="getList",s=H.fetchUrl(this,t),c=t||o[e.restangularFields.route],d=e.fullRequestInterceptor(null,l,c,s,a||{},i||{},this[e.restangularFields.httpConfig]||{}),p=[];p=e.transformElem(p,!0,c,N);var g="getList";e.jsonp&&(g="jsonp");var m=function(n){var r=n.data,i=n.config.params,a=x(r,l,c,s,n,u);if((_.isUndefined(a)||""===a)&&(a=[]),!_.isArray(a))throw new Error("Response for getList SHOULD be an array and not an object or something else");var f=_.map(a,function(n){return o[e.restangularFields.restangularCollection]?v(o[e.restangularFields.parentResource],n,o[e.restangularFields.route],!0,a):v(o,n,t,!0,a)});f=_.extend(a,f),o[e.restangularFields.restangularCollection]?h(u,n,$(o[e.restangularFields.parentResource],f,o[e.restangularFields.route],!0,i),p):h(u,n,$(o,f,t,!0,i),p)};return H.resource(this,n,d.httpConfig,d.headers,d.params,t,this[e.restangularFields.etag],l)[g]().then(m,function(t){304===t.status&&o[e.restangularFields.restangularCollection]?h(u,t,o,p):_.every(e.errorInterceptors,function(e){return e(t,u,m)!==!1})&&u.reject(t)}),f(u.promise,!0,p)}function T(t){return this[e.restangularFields.httpConfig]=t,this}function D(t,n){return this[e.restangularFields.fromServer]?this[e.restangularFields.put](t,n):_.bind(E,this)("post",void 0,t,void 0,n)}function E(t,i,a,o,u){var l=this,s=r.defer(),c=a||{},d=i||this[e.restangularFields.route],p=H.fetchUrl(this,i),m=o||this,b=m[e.restangularFields.etag]||("post"!==t?this[e.restangularFields.etag]:null);_.isObject(m)&&e.isRestangularized(m)&&(m=g(m));var $=e.fullRequestInterceptor(m,t,d,p,u||{},c||{},this[e.restangularFields.httpConfig]||{}),y={};y=e.transformElem(y,!1,d,N);var w=function(n){var r=n.data,i=n.config.params,a=x(r,t,d,p,n,s);if(a)if("post"!==t||l[e.restangularFields.restangularCollection]){var o=v(l[e.restangularFields.parentResource],a,l[e.restangularFields.route],!0,null,i);o[e.restangularFields.singleOne]=l[e.restangularFields.singleOne],h(s,n,o,y)}else{var o=v(l[e.restangularFields.parentResource],a,d,!0,null,i);h(s,n,o,y)}else h(s,n,void 0,y)},j=function(n){304===n.status&&e.isSafe(t)?h(s,n,l,y):_.every(e.errorInterceptors,function(t){return t(n,s,w)!==!1})&&s.reject(n)},k=t,T=_.extend({},$.headers),D=e.isOverridenMethod(t);return D?(k="post",T=_.extend(T,{"X-HTTP-Method-Override":"remove"===t?"DELETE":t.toUpperCase()})):e.jsonp&&"get"===k&&(k="jsonp"),e.isSafe(t)?D?H.resource(this,n,$.httpConfig,T,$.params,i,b,k)[k]({}).then(w,j):H.resource(this,n,$.httpConfig,T,$.params,i,b,k)[k]().then(w,j):H.resource(this,n,$.httpConfig,T,$.params,i,b,k)[k]($.element).then(w,j),f(s.promise,!1,y)}function S(t,e){return _.bind(E,this)("get",void 0,t,void 0,e)}function F(t,e){return _.bind(E,this)("remove",void 0,t,void 0,e)}function C(t,e){return _.bind(E,this)("put",void 0,t,void 0,e)}function A(t,e,n,r){return _.bind(E,this)("post",t,n,e,r)}function M(t,e){return _.bind(E,this)("head",void 0,t,void 0,e)}function I(t,e){return _.bind(E,this)("trace",void 0,t,void 0,e)}function O(t,e){return _.bind(E,this)("options",void 0,t,void 0,e)}function R(t,e,n){return _.bind(E,this)("patch",void 0,e,t,n)}function P(t,e,n,r,i){return _.bind(E,this)(t,e,n,i,r)}function V(t,n,r,i,a,o){var u;u="getList"===n?_.bind(k,this,r):_.bind(P,this,n,r);var l=function(t,e,n){var r=_.defaults({params:t,headers:e,elem:n},{params:i,headers:a,elem:o});return u(r.params,r.headers,r.elem)};this[t]=e.isSafe(n)?l:function(t,e,n){return l(e,n,t)}}function L(n){var r=angular.copy(_.omit(e,"configuration"));return t.init(r,r),n(r),i(r)}function U(t,n){var r=_.values(e.restangularFields),i={},a=(n||N).all(t);i.one=_.bind(o,n||N,n,t),i.post=_.bind(a.post,a),i.getList=_.bind(a.getList,a);for(var u in a)a.hasOwnProperty(u)&&_.isFunction(a[u])&&!_.contains(r,u)&&(i[u]=_.bind(a[u],a));return i}var N={},H=new e.urlCreatorFactory[e.urlCreator];return H.setConfig(e),t.init(N,e),N.copy=_.bind(b,N),N.service=_.bind(U,N),N.withConfig=_.bind(L,N),N.one=_.bind(o,N,null),N.all=_.bind(u,N,null),N.several=_.bind(l,N,null),N.oneUrl=_.bind(s,N,null),N.allUrl=_.bind(c,N,null),N.stripRestangular=_.bind(g,N),N.restangularizeElement=_.bind(v,N),N.restangularizeCollection=_.bind(y,N),N}return i(e)}]})}(),angular.module("ngLocale",[],["$provide",function(t){var e={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["上午","下午"],DAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ERANAMES:["公元前","公元"],ERAS:["公元前","公元"],FIRSTDAYOFWEEK:6,MONTH:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],SHORTDAY:["周日","周一","周二","周三","周四","周五","周六"],SHORTMONTH:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],WEEKENDRANGE:[5,6],fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"y年M月d日 ah:mm:ss",mediumDate:"y年M月d日",mediumTime:"ah:mm:ss","short":"yy/M/d ah:mm",shortDate:"yy/M/d",shortTime:"ah:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"¥",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"¤ -",negSuf:"",posPre:"¤ ",posSuf:""}]},id:"zh-cn",pluralCat:function(t,n){return e.OTHER}})}]),function(t){function e(){for(var t=arguments[0],e=1;e<arguments.length;e++){var n=new RegExp("\\{"+(e-1)+"\\}","gm");t=t.replace(n,arguments[e])}return t}function n(){return"_"+ ++i}var r=t.module("jb",[]),i=0;r.factory("jb$",function(){return{nextUid:n,fmt:e}})}(angular),function(t){var e=t.module("jb.auth",["ui.router","LocalStorageModule"]);e.factory("jbAuthUser",["localStorageService",function(t){function e(){return t.get("user")}return{Xm:e,isAuth:function(){return!!e()}}}]),e.provider("jbAuth",function(){function t(t,r,i){n.push({config:t,deferred:r}),i&&"/login"!=i&&(e=i)}var e,n=[];this.$get=["$rootScope","$injector","$location","$cookies","jbAuthUser","localStorageService",function(r,i,a,o,u,l){function s(t,e){f=f||i.get("$http"),f(t).then(function(t){e.resolve(t)})}function c(){for(var t=0;t<n.length;++t)s(n[t].config,n[t].deferred);n=[]}var f;return{pushToBuffer:t,loginConfirmed:function(t,n){l.set("token",t),l.set("user",n),r.$broadcast("event:authConfirmed"),c(),e&&a.path(e)},logoutSuccess:function(){l.clearAll(),r.$broadcast("event:authLogout")}}}]}),e.factory("jbAuthInterceptor",["$rootScope","$q","$location","jbAuth","localStorageService",function(t,e,n,r,i){return{request:function(t){t.headers=t.headers||{};var e=i.get("token");return null!==e&&(t.headers.Authorization="jBreak "+e),t},responseError:function(i){if(403===i.status){var a=e.defer();return r.pushToBuffer(i.config,a,n.path()),t.$broadcast("event:authRequest"),a.promise}return e.reject(i)}}}]),e.config(["$httpProvider",function(t){t.interceptors.push("jbAuthInterceptor")}])}(angular),function(t){function e(e,n,r){e.params=r?n||{}:t.extend(e.params||{},n||{})}var n=t.module("jb.ctx",["restangular"]);n.provider("$jbCtx",function(){this.$get=["$q","Restangular","$state","$stateParams",function(n,r,i,a){function o(t,e,n){var r=l(t,e);return r.eCtx=c(t,r,n||"id"),r}function u(t,e,n){var r=s(t,e);return r.eCtx=c(t,r,n||"id"),r}function l(t,e){function n(){return e?e.res():r}function i(e){return n().one(t,e||"")}function a(){return n().all(t).getList().then(u.updateData)}function o(t){return u.lst=t,u.lst}var u={name:t,p:e,lst:[],res:n,one:i,refresh:a,updateData:o};return u}function s(n,r){function i(t,r,i){return t&&(u.filter=t),e(u,r,i),u.res().all(n).all("actpage").post(u.filter).then(u.updateData)}function a(t){u.filter.page=t,i()}function o(t){return u.lst=t.Items,u.total=t.Total,u.lst}var u=t.extend(l(n,r),{refresh:i,updateData:o,pager:a,total:0,params:{filter:""},filter:{page:1,perPage:20}});return u}function c(e,n,o,u,l){function s(){return $.res().get().then($.updateData)}function c(t){return $.obj=t,$.obj}function f(t){$.curId=t,m()}function d(t){return f(t),t?s():$.res().post().then($.updateData)}function p(){return $.obj.save().then(v)}function h(){return p().then(function(){""===a[o]&&($.curId=a[o]=$.obj.Id,i.go(".",a))})}function g(){return $.obj.remove().then(v)}function m(){b=(l?n.res():r).one(e,$.curId)}u=0!=u,l=0!=l;var b,v=n?n.refresh||t.noop:t.noop,$={p:n,name:e,res:function(){return b},refresh:s,editId:d,view:f,save:p,saveRefresh:h,del:g,updateData:c,curId:""};return m(),$}function f(e,n){function r(){a._obj?a._obj=t.extend(a._obj,a.obj):(a._obj=t.extend({},a.obj),a.p.obj[e].push(a._obj))}function i(){a._obj&&(a.p.obj[e]=_.without(a.p.obj[e],a._obj))}var a={p:n,name:e,add:function(){a._obj=a.obj=null},edit:function(e){a._obj=e,a.obj=t.copy(e)},save:r,saveRefresh:r,del:i};return a}return{lst:l,page:s,obj:c,lstObj:o,pageObj:u,objSub:f}}]})}(angular),function(t){function e(t,e,n){return{Condition:t||"NONE",Rules:[e,n]}}function n(t,n,i){return e(t,r(n,i),r(n,i))}function r(t,e,n,r){var i={Field:t,Opt:e||"contains",Val1:n||"",Val2:r||""};return i.hello=function(){console.log("hi")},i}var i=t.module("jb.filter",[]);i.provider("$jbFilter",function(){this.$get=function(){return{rule:r,group:e,group2:n}}})}(angular),function(t){var e=t.module("jb.zd",["restangular"]);e.provider("$jbZd",function(){this.$get=["$cacheFactory","Restangular","$q",function(t,e,n){function r(t){var r=i.get(t);return r?n.when(r):e.allUrl("jbzd","/api/jbzd/bq/"+t).getList().then(function(e){return i.put(t,e.plain()),e.plain()})}var i=t("jbZd");return{get:r}}]})}(angular),angular.module("jb.be",[]),angular.module("jb.ui",["ngLocale","jb.ui.tpls","jb.util","jb","jb.ui.table","jb.zd","jb.ui.widget"]),angular.module("jb.util.dateParser",[]).provider("$jbDateParser",["$localeProvider",function(t){function e(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function n(){}function r(t){return!isNaN(parseFloat(t))&&isFinite(t)}function i(t,e){for(var n=t.length,r=e.toString().toLowerCase(),i=0;n>i;i++)if(t[i].toLowerCase()===r)return i;return-1}e.prototype.setMilliseconds=function(t){this.milliseconds=t},e.prototype.setSeconds=function(t){this.seconds=t},e.prototype.setMinutes=function(t){this.minutes=t},e.prototype.setHours=function(t){this.hours=t},e.prototype.getHours=function(){return this.hours},e.prototype.setDate=function(t){this.day=t},e.prototype.setMonth=function(t){this.month=t},e.prototype.setFullYear=function(t){this.year=t},e.prototype.fromDate=function(t){return this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate(),this.hours=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this.milliseconds=t.getMilliseconds(),this},e.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var a=e.prototype,o=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(t,u){var l=function(l){function s(t){var e,n=Object.keys(b),r=[],i=[],a=t;for(e=0;e<n.length;e++)if(t.split(n[e]).length>1){var o=a.search(n[e]);t=t.split(n[e]).join(""),b[n[e]]&&(r[o]=b[n[e]])}return angular.forEach(r,function(t){t&&i.push(t)}),i}function c(t){return t.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function f(t){var e,n=Object.keys(m),r=t;for(e=0;e<n.length;e++)r=r.split(n[e]).join("${"+e+"}");for(e=0;e<n.length;e++)r=r.split("${"+e+"}").join("("+m[n[e]]+")");return t=c(t),new RegExp("^"+r+"$",["i"])}var d,p,h=angular.extend({},o,l),g={},m={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:h.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:h.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:h.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:h.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:t.DATETIME_FORMATS.DAY.join("|"),EEE:t.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:h.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:t.DATETIME_FORMATS.MONTH.join("|"),MMM:t.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:h.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:h.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},b={sss:a.setMilliseconds,ss:a.setSeconds,s:a.setSeconds,mm:a.setMinutes,m:a.setMinutes,HH:a.setHours,H:a.setHours,hh:a.setHours,h:a.setHours,EEEE:n,EEE:n,dd:a.setDate,d:a.setDate,a:function(t){var e=this.getHours()%12;return this.setHours(t.match(/pm/i)?e+12:e)},MMMM:function(e){return this.setMonth(i(t.DATETIME_FORMATS.MONTH,e))},MMM:function(e){return this.setMonth(i(t.DATETIME_FORMATS.SHORTMONTH,e))},MM:function(t){return this.setMonth(1*t-1)},M:function(t){return this.setMonth(1*t-1)},yyyy:a.setFullYear,yy:function(t){return this.setFullYear(2e3+1*t)},y:a.setFullYear};return g.init=function(){g.$format=t.DATETIME_FORMATS[h.format]||h.format,d=f(g.$format),p=s(g.$format)},g.isValid=function(t){return angular.isDate(t)?!isNaN(t.getTime()):d.test(t)},g.parse=function(n,r,i){i&&(i=t.DATETIME_FORMATS[i]||i),angular.isDate(n)&&(n=u(n,i||g.$format));var a=i?f(i):d,o=i?s(i):p,l=a.exec(n);if(!l)return!1;for(var c=r&&!isNaN(r.getTime())?(new e).fromDate(r):(new e).fromDate(new Date(1970,0,1,0)),h=0;h<l.length-1;h++)o[h]&&o[h].call(c,l[h+1]);var m=c.toDate();return parseInt(c.day,10)!==m.getDate()?!1:m},g.getDateForAttribute=function(t,e){var n;if("today"===e){var i=new Date;n=new Date(i.getFullYear(),i.getMonth(),i.getDate()+("maxDate"===t?1:0),0,0,0,"minDate"===t?0:-1)}else n=angular.isString(e)&&e.match(/^".+"$/)?new Date(e.substr(1,e.length-2)):r(e)?new Date(parseInt(e,10)):angular.isString(e)&&0===e.length?"minDate"===t?-(1/0):+(1/0):new Date(e);return n},g.getTimeForAttribute=function(t,e){var n;return n="now"===e?(new Date).setFullYear(1970,0,1):angular.isString(e)&&e.match(/^".+"$/)?new Date(e.substr(1,e.length-2)).setFullYear(1970,0,1):r(e)?new Date(parseInt(e,10)).setFullYear(1970,0,1):angular.isString(e)&&0===e.length?"minTime"===t?-(1/0):+(1/0):g.parse(e,new Date(1970,0,1,0))},g.daylightSavingAdjust=function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},g.init(),g};return l}]}]).service("$jbDateFormatter",["$locale","dateFilter",function(t,e){function n(t){return/(h+)([:\.])?(m+)[ ]?(a?)/i.exec(t).slice(1)}this.getDefaultLocale=function(){return t.id},this.getDatetimeFormat=function(e,n){return t.DATETIME_FORMATS[e]||e},this.weekdaysShort=function(e){return t.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(t){return n(t)[0]},this.minutesFormat=function(t){return n(t)[2]},this.timeSeparator=function(t){return n(t)[1]},this.showAM=function(t){return!!n(t)[3]},this.formatDate=function(t,n,r){return e(t,n)}}]),function(){var t=angular.module("jb.util.parseOptions",[]);t.provider("$jbParseOptions",function(){var t=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(e,n){function r(r,i){function a(t,e){return t.map(function(t,n){var r,i,a={};return a[c]=t,r=s(e,a),i=p(e,a),{label:r,value:i,index:n}})}var o={},u=angular.extend({},t,i);o.$values=[];var l,s,c,f,d,p,h;return o.init=function(){o.$match=l=r.match(u.regexp),s=e(l[2]||l[1]),c=l[4]||l[6],f=l[5],d=e(l[3]||""),p=e(l[2]?l[1]:c),h=e(l[7])},o.valuesFn=function(t,e){return n.when(h(t,e)).then(function(e){return o.$values=e?a(e,t):{},o.$values})},o.displayValue=function(t){var e={};return e[c]=t,s(e)},o.init(),o}return r}]})}(),angular.module("jb.util.position",[]).factory("$jbPosition",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function r(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),r={top:0,left:0},a=i(e[0]);a!=t[0]&&(r=this.offset(angular.element(a)),r.top+=a.clientTop-a.scrollTop,r.left+=a.clientLeft-a.scrollLeft);var o=e[0].getBoundingClientRect();return{width:o.width||e.prop("offsetWidth"),height:o.height||e.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:r.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,r){var i,a,o,u,l=n.split("-"),s=l[0],c=l[1]||"center";i=r?this.offset(t):this.position(t),a=e.prop("offsetWidth"),o=e.prop("offsetHeight");var f={center:function(){return i.left+i.width/2-a/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(s){case"right":u={top:d[c](),left:f[s]()};break;case"left":u={top:d[c](),left:i.left-a};break;case"bottom":u={top:d[s](),left:f[c]()};break;default:u={top:i.top-o,left:f[c]()}}return u}}}]),angular.module("jb.util",["jb.util.dateParser","jb.util.position","jb.util.parseOptions"]),angular.module("jb.ui").provider("$jbAlert",function(){var t=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,template:"jb/ui/alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$timeout","$jbModal",function(e,n){function r(r){var i={},a=angular.extend({},t,r);i=n(a),i.$scope.dismissable=!!a.dismissable,a.type&&(i.$scope.type=a.type);var o=i.show;return a.duration&&(i.show=function(){o(),e(function(){i.hide()},1e3*a.duration)}),i}return r}]}).directive("jbAlert",["$window","$sce","$jbAlert",function(t,e,n){t.requestAnimationFrame||t.setTimeout;return{restrict:"EAC",scope:!0,link:function(t,r,i,a){var o={scope:t,element:r,show:!1};angular.forEach(["template","placement","keyboard","html","container","animation","duration","dismissable"],function(t){angular.isDefined(i[t])&&(o[t]=i[t])}),angular.forEach(["title","content","type"],function(n){i[n]&&i.$observe(n,function(r,i){t[n]=e.trustAsHtml(r)})}),i.jbAlert&&t.$watch(i.jbAlert,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e},!0);var u=n(o);r.on(i.trigger||"click",u.toggle),t.$on("$destroy",function(){u&&u.destroy(),o=null,u=null})}}}]),angular.module("jb.ui").provider("$jbAside",function(){var t=this.defaults={animation:"am-fade-and-slide-right",type:"aside",placement:null,template:"jb/ui/aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!0,show:!0};this.$get=["$jbModal",function(e){function n(n){var r={},i=angular.extend({},t,n);return r=e(i)}return n}]}).directive("jbAside",["$window","$sce","$jbAside",function(t,e,n){t.requestAnimationFrame||t.setTimeout;return{restrict:"EAC",scope:!0,link:function(t,r,i,a){var o={scope:t,element:r,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(t){angular.isDefined(i[t])&&(o[t]=i[t])}),angular.forEach(["title","content"],function(n){i[n]&&i.$observe(n,function(r,i){t[n]=e.trustAsHtml(r)})}),i.jbAside&&t.$watch(i.jbAside,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e},!0);var u=n(o);r.on(i.trigger||"click",u.toggle),t.$on("$destroy",function(){u&&u.destroy(),o=null,u=null})}}}]),function(){var t=angular.module("jb.ui"),e={activeClass:"active",toggleEvent:"click"};t.directive("jbCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(t,e){t.attr("data-toggle","buttons"),t.removeAttr("ng-model");var n=t[0].querySelectorAll('input[type="checkbox"]');angular.forEach(n,function(t){var n=angular.element(t);n.attr("jb-checkbox",""),n.attr("ng-model",e.ngModel+"."+n.attr("value"))})}}}),t.directive("jbCheckbox",["$$rAF",function(t){var n=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(r,i,a,o){var u=e,l="INPUT"===i[0].nodeName,s=l?i.parent():i,c=angular.isDefined(a.trueValue)?a.trueValue:!0;n.test(a.trueValue)&&(c=r.$eval(a.trueValue));var f=angular.isDefined(a.falseValue)?a.falseValue:!1;n.test(a.falseValue)&&(f=r.$eval(a.falseValue));var d="boolean"!=typeof c||"boolean"!=typeof f;d&&(o.$parsers.push(function(t){return t?c:f}),o.$formatters.push(function(t){return angular.equals(t,c)}),r.$watch(a.ngModel,function(t,e){o.$render()})),o.$render=function(){var e=angular.equals(o.$modelValue,c);t(function(){l&&(i[0].checked=e),s.toggleClass(u.activeClass,e)})},i.bind(u.toggleEvent,function(){r.$apply(function(){l||o.$setViewValue(!s.hasClass("active")),d||o.$render()})})}}}]),t.directive("jbRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(t,e){t.attr("data-toggle","buttons"),t.removeAttr("ng-model");var n=t[0].querySelectorAll('input[type="radio"]');angular.forEach(n,function(t){angular.element(t).attr("jb-radio",""),angular.element(t).attr("ng-model",e.ngModel)})}}}),t.directive("jbRadio",["$$rAF",function(t){var n=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(r,i,a,o){var u,l=e,s="INPUT"===i[0].nodeName,c=s?i.parent():i;a.$observe("value",function(t){u=n.test(t)?r.$eval(t):t,o.$render()}),o.$render=function(){var e=angular.equals(o.$modelValue,u);t(function(){s&&(i[0].checked=e),c.toggleClass(l.activeClass,e)})},i.bind(l.toggleEvent,function(){r.$apply(function(){o.$setViewValue(u),o.$render()})})}}}])}(),angular.module("jb.ui").directive("jbCheckList",function(){return{restrict:"ECA",scope:{jbSrc:"=",jbVal:"=",jbOther:"="},templateUrl:"jb/ui/checkList/checkList.tpl.html",link:function(t,e,n){function r(e){var n=[];t.selection=[],e.split(";").forEach(function(e){t.jbSrc.indexOf(e)>-1?t.selection.push(e):t.jbOther&&e&&n.push(e)}),t.otherCk=n.length>0,t.otherVal=n.join(";")}function i(){var e=t.selection;t.jbOther&&t.otherVal&&e.push(t.otherVal),t.jbVal=e.join(";")}if(!angular.isArray(t.jbSrc))throw"jbSrc must be array!";r(t.jbVal),t.toggleOther=function(){t.otherCk=!t.otherCk,t.otherCk||(t.otherVal=""),i()},t.toggleSelection=function(e){var n=t.selection.indexOf(e);n>-1?t.selection.splice(n,1):t.selection.push(e),i()},t.$watch("otherVal",function(e){t.otherCk=!!e,i()}),t.$watch("jbVal",r)}}}),angular.module("jb.ui").provider("$jbDate",function(){var t=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"jb/ui/datetime/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"yyyy-MM-dd",modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-(1/0),maxDate:+(1/0),startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$jbDateFormatter","datepickerViews","$jbTip","$timeout",function(e,n,r,i,a,o,u,l){function s(e,n,r){function i(t){t.selected=s.$isSelected(t.date)}function a(){e[0].focus()}var s=u(e,angular.extend({},t,r)),d=r.scope,p=s.$options,h=s.$scope;p.startView&&(p.startView-=p.minView);var g=o(s);s.$views=g.views;var m=g.viewDate;h.$mode=p.startView,h.$iconLeft=p.iconLeft,h.$iconRight=p.iconRight;var b=s.$views[h.$mode];h.$select=function(t){s.select(t)},h.$selectPane=function(t){s.$selectPane(t)},h.$toggleMode=function(){s.setMode((h.$mode+1)%s.$views.length)},s.update=function(t){angular.isDate(t)&&!isNaN(t.getTime())&&(s.$date=t,b.update.call(b,t)),s.$build(!0)},s.updateDisabledDates=function(t){p.disabledDateRanges=t;for(var e=0,n=h.rows.length;n>e;e++)angular.forEach(h.rows[e],s.$setDisabledEl)},s.select=function(t,e){angular.isDate(n.$dateValue)||(n.$dateValue=new Date(t)),!h.$mode||e?(n.$setViewValue(angular.copy(t)),n.$render(),p.autoclose&&!e&&l(function(){s.hide(!0)})):(angular.extend(m,{year:t.getFullYear(),month:t.getMonth(),date:t.getDate()}),s.setMode(h.$mode-1),s.$build())},s.setMode=function(t){h.$mode=t,b=s.$views[h.$mode],s.$build()},s.$build=function(t){t===!0&&b.built||(t!==!1||b.built)&&b.build.call(b)},s.$updateSelected=function(){for(var t=0,e=h.rows.length;e>t;t++)angular.forEach(h.rows[t],i)},s.$isSelected=function(t){return b.isSelected(t)},s.$setDisabledEl=function(t){t.disabled=b.isDisabled(t.date)},s.$selectPane=function(t){var e=b.steps,n=new Date(Date.UTC(m.year+(e.year||0)*t,m.month+(e.month||0)*t,1));angular.extend(m,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),s.$build()},s.$onMouseDown=function(t){if(t.preventDefault(),t.stopPropagation(),f){var e=angular.element(t.target);"button"!==e[0].nodeName.toLowerCase()&&(e=e.parent()),e.triggerHandler("click")}},s.$onKeyDown=function(t){if(/(38|37|39|40|13)/.test(t.keyCode)&&!t.shiftKey&&!t.altKey){if(t.preventDefault(),t.stopPropagation(),13===t.keyCode)return h.$mode?h.$apply(function(){s.setMode(h.$mode-1)}):s.hide(!0);b.onKeyDown(t),d.$digest()}};var v=s.init;s.init=function(){return c&&p.useNative?(e.prop("type","date"),void e.css("-webkit-appearance","textfield")):(f&&(e.prop("type","text"),e.attr("readonly","true"),e.on("click",a)),void v())};var $=s.destroy;s.destroy=function(){c&&p.useNative&&e.off("click",a),$()};var y=s.show;s.show=function(){y(),l(function(){s.$isShown&&(s.$element.on(f?"touchstart":"mousedown",s.$onMouseDown),p.keyboard&&e.on("keydown",s.$onKeyDown))},0,!1)};var w=s.hide;return s.hide=function(t){s.$isShown&&(s.$element.off(f?"touchstart":"mousedown",s.$onMouseDown),p.keyboard&&e.off("keydown",s.$onKeyDown),w(t))},s}var c=(angular.element(e.document.body),/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent)),f="createTouch"in e.document&&c;return t.lang||(t.lang=a.getDefaultLocale()),s.defaults=t,s}]}).directive("jbDate",["$window","$parse","$q","$jbDateFormatter","$jbDateParser","$jbDate",function(t,e,n,r,i,a){var o=(a.defaults,/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent));return{restrict:"EAC",require:"ngModel",link:function(t,e,n,u){function l(t){return t&&t.length?t:null}function s(t){if(angular.isDate(t)){var e=isNaN(d.$options.minDate)||t.getTime()>=d.$options.minDate,n=isNaN(d.$options.maxDate)||t.getTime()<=d.$options.maxDate,r=e&&n;u.$setValidity("date",r),u.$setValidity("min",e),u.$setValidity("max",n),r&&(u.$dateValue=t)}}function c(){return!u.$dateValue||isNaN(u.$dateValue.getTime())?"":h(u.$dateValue,f.dateFormat)}var f={scope:t,controller:u};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","dateType","dateFormat","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id"],function(t){angular.isDefined(n[t])&&(f[t]=n[t])}),n.bsShow&&t.$watch(n.bsShow,function(t,e){d&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(datepicker),?/i)),t===!0?d.show():d.hide())});var d=a(e,u,f);f=d.$options,o&&f.useNative&&(f.dateFormat="yyyy-MM-dd");var p=f.lang,h=function(t,e){return r.formatDate(t,e,p)},g=i({format:f.dateFormat,lang:p,strict:f.strictFormat});angular.forEach(["minDate","maxDate"],function(t){angular.isDefined(n[t])&&n.$observe(t,function(e){d.$options[t]=g.getDateForAttribute(t,e),isNaN(d.$options[t])||d.$build(!1),s(u.$dateValue)})}),t.$watch(n.ngModel,function(t,e){d.update(u.$dateValue)},!0),angular.isDefined(n.disabledDates)&&t.$watch(n.disabledDates,function(t,e){t=l(t),e=l(e),t&&d.updateDisabledDates(t)}),u.$parsers.unshift(function(t){if(!t)return u.$setValidity("date",!0),null;var e=g.parse(t,u.$dateValue);return!e||isNaN(e.getTime())?void u.$setValidity("date",!1):(s(e),"string"===f.dateType?h(e,f.modelDateFormat||f.dateFormat):"number"===f.dateType?u.$dateValue.getTime():"unix"===f.dateType?u.$dateValue.getTime()/1e3:"iso"===f.dateType?u.$dateValue.toISOString():new Date(u.$dateValue))}),u.$formatters.push(function(t){var e;return e=angular.isUndefined(t)||null===t?NaN:angular.isDate(t)?t:"string"===f.dateType?g.parse(t,null,f.modelDateFormat):"unix"===f.dateType?new Date(1e3*t):new Date(t),u.$dateValue=e,c()}),u.$render=function(){e.val(c())},t.$on("$destroy",function(){d&&d.destroy(),f=null,d=null})}}}]).provider("datepickerViews",function(){function t(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n}function e(t,e){return(t%e+e)%e}this.defaults={dayFormat:"dd",daySplit:7};this.$get=["$jbDateFormatter","$jbDateParser","$sce",function(n,r,i){return function(a){var o=a.$scope,u=a.$options,l=u.lang,s=function(t,e){return n.formatDate(t,e,l)},c=r({format:u.dateFormat,lang:l,strict:u.strictFormat}),f=n.weekdaysShort(l),d=f.slice(u.startWeek).concat(f.slice(0,u.startWeek)),p=i.trustAsHtml('<th class="dow text-center">'+d.join('</th><th class="dow text-center">')+"</th>"),h=a.$date||(u.startDate?c.getDateForAttribute("startDate",u.startDate):new Date),g={year:h.getFullYear(),month:h.getMonth(),date:h.getDate()},m=(6e4*h.getTimezoneOffset(),[{format:u.dayFormat,split:7,steps:{month:1},update:function(t,e){!this.built||e||t.getFullYear()!==g.year||t.getMonth()!==g.month?(angular.extend(g,{year:a.$date.getFullYear(),month:a.$date.getMonth(),date:a.$date.getDate()}),a.$build()):t.getDate()!==g.date&&(g.date=a.$date.getDate(),a.$updateSelected())},build:function(){var n=new Date(g.year,g.month,1),r=n.getTimezoneOffset(),i=new Date(+n-864e5*e(n.getDay()-u.startWeek,7)),l=i.getTimezoneOffset(),f=(new Date).toDateString();l!==r&&(i=new Date(+i+6e4*(l-r)));for(var d,h=[],m=0;42>m;m++)d=c.daylightSavingAdjust(new Date(i.getFullYear(),i.getMonth(),i.getDate()+m)),h.push({date:d,isToday:d.toDateString()===f,label:s(d,this.format),selected:a.$date&&this.isSelected(d),muted:d.getMonth()!==g.month,disabled:this.isDisabled(d)});o.title=s(n,u.monthTitleFormat),o.showLabels=!0,o.labels=p,o.rows=t(h,this.split),this.built=!0},isSelected:function(t){return a.$date&&t.getFullYear()===a.$date.getFullYear()&&t.getMonth()===a.$date.getMonth()&&t.getDate()===a.$date.getDate()},isDisabled:function(t){var e=t.getTime();if(e<u.minDate||e>u.maxDate)return!0;if(-1!==u.daysOfWeekDisabled.indexOf(t.getDay()))return!0;if(u.disabledDateRanges)for(var n=0;n<u.disabledDateRanges.length;n++)if(e>=u.disabledDateRanges[n].start&&e<=u.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(t){
if(a.$date){var e,n=a.$date.getTime();37===t.keyCode?e=new Date(n-864e5):38===t.keyCode?e=new Date(n-6048e5):39===t.keyCode?e=new Date(n+864e5):40===t.keyCode&&(e=new Date(n+6048e5)),this.isDisabled(e)||a.select(e,!0)}}},{name:"month",format:u.monthFormat,split:4,steps:{year:1},update:function(t,e){this.built&&t.getFullYear()===g.year?t.getMonth()!==g.month&&(angular.extend(g,{month:a.$date.getMonth(),date:a.$date.getDate()}),a.$updateSelected()):(angular.extend(g,{year:a.$date.getFullYear(),month:a.$date.getMonth(),date:a.$date.getDate()}),a.$build())},build:function(){for(var e,n=(new Date(g.year,0,1),[]),r=0;12>r;r++)e=new Date(g.year,r,1),n.push({date:e,label:s(e,this.format),selected:a.$isSelected(e),disabled:this.isDisabled(e)});o.title=s(e,u.yearTitleFormat),o.showLabels=!1,o.rows=t(n,this.split),this.built=!0},isSelected:function(t){return a.$date&&t.getFullYear()===a.$date.getFullYear()&&t.getMonth()===a.$date.getMonth()},isDisabled:function(t){var e=+new Date(t.getFullYear(),t.getMonth()+1,0);return e<u.minDate||t.getTime()>u.maxDate},onKeyDown:function(t){if(a.$date){var e=a.$date.getMonth(),n=new Date(a.$date);37===t.keyCode?n.setMonth(e-1):38===t.keyCode?n.setMonth(e-4):39===t.keyCode?n.setMonth(e+1):40===t.keyCode&&n.setMonth(e+4),this.isDisabled(n)||a.select(n,!0)}}},{name:"year",format:u.yearFormat,split:4,steps:{year:12},update:function(t,e){!this.built||e||parseInt(t.getFullYear()/20,10)!==parseInt(g.year/20,10)?(angular.extend(g,{year:a.$date.getFullYear(),month:a.$date.getMonth(),date:a.$date.getDate()}),a.$build()):t.getFullYear()!==g.year&&(angular.extend(g,{year:a.$date.getFullYear(),month:a.$date.getMonth(),date:a.$date.getDate()}),a.$updateSelected())},build:function(){for(var e,n=g.year-g.year%(3*this.split),r=[],i=0;12>i;i++)e=new Date(n+i,0,1),r.push({date:e,label:s(e,this.format),selected:a.$isSelected(e),disabled:this.isDisabled(e)});o.title=r[0].label+"-"+r[r.length-1].label,o.showLabels=!1,o.rows=t(r,this.split),this.built=!0},isSelected:function(t){return a.$date&&t.getFullYear()===a.$date.getFullYear()},isDisabled:function(t){var e=+new Date(t.getFullYear()+1,0,0);return e<u.minDate||t.getTime()>u.maxDate},onKeyDown:function(t){if(a.$date){var e=a.$date.getFullYear(),n=new Date(a.$date);37===t.keyCode?n.setYear(e-1):38===t.keyCode?n.setYear(e-4):39===t.keyCode?n.setYear(e+1):40===t.keyCode&&n.setYear(e+4),this.isDisabled(n)||a.select(n,!0)}}}]);return{views:u.minView?Array.prototype.slice.call(m,u.minView):m,viewDate:g}}}]}),angular.module("jb.ui").provider("$jbTime",function(){var t=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"jb/ui/datetime/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",modelTimeFormat:null,autoclose:!1,minTime:-(1/0),maxTime:+(1/0),length:5,hourStep:1,minuteStep:5,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$jbDateFormatter","$jbTip","$timeout",function(e,n,r,i,a,o,u){function l(e,n,r){function i(t,n){if(e[0].createTextRange){var r=e[0].createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n),r.select()}else e[0].setSelectionRange?e[0].setSelectionRange(t,n):angular.isUndefined(e[0].selectionStart)&&(e[0].selectionStart=t,e[0].selectionEnd=n)}function l(){e[0].focus()}var f=o(e,angular.extend({},t,r)),d=r.scope,p=f.$options,h=f.$scope,g=p.lang,m=function(t,e){return a.formatDate(t,e,g)},b=0,v=n.$dateValue||new Date,$={hour:v.getHours(),meridian:v.getHours()<12,minute:v.getMinutes(),second:v.getSeconds(),millisecond:v.getMilliseconds()},y=a.getDatetimeFormat(p.timeFormat,g),w=a.hoursFormat(y),_=a.timeSeparator(y),j=a.minutesFormat(y),x=a.showAM(y);h.$iconUp=p.iconUp,h.$iconDown=p.iconDown,h.$select=function(t,e){f.select(t,e)},h.$moveIndex=function(t,e){f.$moveIndex(t,e)},h.$switchMeridian=function(t){f.switchMeridian(t)},f.update=function(t){angular.isDate(t)&&!isNaN(t.getTime())?(f.$date=t,angular.extend($,{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}),f.$build()):f.$isBuilt||f.$build()},f.select=function(t,e,r){(!n.$dateValue||isNaN(n.$dateValue.getTime()))&&(n.$dateValue=new Date(1970,0,1)),angular.isDate(t)||(t=new Date(t)),0===e?n.$dateValue.setHours(t.getHours()):1===e&&n.$dateValue.setMinutes(t.getMinutes()),n.$setViewValue(angular.copy(n.$dateValue)),n.$render(),p.autoclose&&!r&&u(function(){f.hide(!0)})},f.switchMeridian=function(t){if(n.$dateValue&&!isNaN(n.$dateValue.getTime())){var e=(t||n.$dateValue).getHours();n.$dateValue.setHours(12>e?e+12:e-12),n.$setViewValue(angular.copy(n.$dateValue)),n.$render()}},f.$build=function(){var t,e,n=h.midIndex=parseInt(p.length/2,10),r=[];for(t=0;t<p.length;t++)e=new Date(1970,0,1,$.hour-(n-t)*p.hourStep),r.push({date:e,label:m(e,w),selected:f.$date&&f.$isSelected(e,0),disabled:f.$isDisabled(e,0)});var i,a=[];for(t=0;t<p.length;t++)i=new Date(1970,0,1,0,$.minute-(n-t)*p.minuteStep),a.push({date:i,label:m(i,j),selected:f.$date&&f.$isSelected(i,1),disabled:f.$isDisabled(i,1)});var o=[];for(t=0;t<p.length;t++)o.push([r[t],a[t]]);h.rows=o,h.showAM=x,h.isAM=(f.$date||r[n].date).getHours()<12,h.timeSeparator=_,f.$isBuilt=!0},f.$isSelected=function(t,e){return f.$date?0===e?t.getHours()===f.$date.getHours():1===e?t.getMinutes()===f.$date.getMinutes():void 0:!1},f.$isDisabled=function(t,e){var n;return 0===e?n=t.getTime()+6e4*$.minute:1===e&&(n=t.getTime()+36e5*$.hour),n<1*p.minTime||n>1*p.maxTime},h.$arrowAction=function(t,e){"picker"===p.arrowBehavior?f.$setTimeByStep(t,e):f.$moveIndex(t,e)},f.$setTimeByStep=function(t,e){var n=new Date(f.$date),r=n.getHours(),i=(m(n,w).length,n.getMinutes());m(n,j).length;0===e?n.setHours(r-parseInt(p.hourStep,10)*t):n.setMinutes(i-parseInt(p.minuteStep,10)*t),f.select(n,e,!0)},f.$moveIndex=function(t,e){var n;0===e?(n=new Date(1970,0,1,$.hour+t*p.length,$.minute),angular.extend($,{hour:n.getHours()})):1===e&&(n=new Date(1970,0,1,$.hour,$.minute+t*p.length*p.minuteStep),angular.extend($,{minute:n.getMinutes()})),f.$build()},f.$onMouseDown=function(t){if("input"!==t.target.nodeName.toLowerCase()&&t.preventDefault(),t.stopPropagation(),c){var e=angular.element(t.target);"button"!==e[0].nodeName.toLowerCase()&&(e=e.parent()),e.triggerHandler("click")}},f.$onKeyDown=function(t){if(/(38|37|39|40|13)/.test(t.keyCode)&&!t.shiftKey&&!t.altKey){if(t.preventDefault(),t.stopPropagation(),13===t.keyCode)return f.hide(!0);var e=new Date(f.$date),n=e.getHours(),r=m(e,w).length,a=e.getMinutes(),o=m(e,j).length,u=/(37|39)/.test(t.keyCode),l=2+1*x;u&&(37===t.keyCode?b=1>b?l-1:b-1:39===t.keyCode&&(b=l-1>b?b+1:0));var s=[0,r];0===b?(38===t.keyCode?e.setHours(n-parseInt(p.hourStep,10)):40===t.keyCode&&e.setHours(n+parseInt(p.hourStep,10)),r=m(e,w).length,s=[0,r]):1===b?(38===t.keyCode?e.setMinutes(a-parseInt(p.minuteStep,10)):40===t.keyCode&&e.setMinutes(a+parseInt(p.minuteStep,10)),o=m(e,j).length,s=[r+1,r+1+o]):2===b&&(u||f.switchMeridian(),s=[r+1+o+1,r+1+o+3]),f.select(e,b,!0),i(s[0],s[1]),d.$digest()}};var k=f.init;f.init=function(){return s&&p.useNative?(e.prop("type","time"),void e.css("-webkit-appearance","textfield")):(c&&(e.prop("type","text"),e.attr("readonly","true"),e.on("click",l)),void k())};var T=f.destroy;f.destroy=function(){s&&p.useNative&&e.off("click",l),T()};var D=f.show;f.show=function(){D(),u(function(){f.$element.on(c?"touchstart":"mousedown",f.$onMouseDown),p.keyboard&&e.on("keydown",f.$onKeyDown)},0,!1)};var E=f.hide;return f.hide=function(t){f.$isShown&&(f.$element.off(c?"touchstart":"mousedown",f.$onMouseDown),p.keyboard&&e.off("keydown",f.$onKeyDown),E(t))},f}var s=(angular.element(e.document.body),/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent)),c="createTouch"in e.document&&s;return t.lang||(t.lang=a.getDefaultLocale()),l.defaults=t,l}]}).directive("jbTime",["$window","$parse","$q","$jbDateFormatter","$jbDateParser","$jbTime",function(t,e,n,r,i,a){var o=a.defaults,u=/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent);t.requestAnimationFrame||t.setTimeout;return{restrict:"EAC",require:"ngModel",link:function(t,e,n,l){function s(t){if(angular.isDate(t)){var e=isNaN(f.minTime)||new Date(t.getTime()).setFullYear(1970,0,1)>=f.minTime,n=isNaN(f.maxTime)||new Date(t.getTime()).setFullYear(1970,0,1)<=f.maxTime,r=e&&n;l.$setValidity("date",r),l.$setValidity("min",e),l.$setValidity("max",n),r&&(l.$dateValue=t)}}function c(){return!l.$dateValue||isNaN(l.$dateValue.getTime())?"":h(l.$dateValue,f.timeFormat)}var f={scope:t,controller:l};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","modelTimeFormat","useNative","hourStep","minuteStep","length","arrowBehavior","iconUp","iconDown","id"],function(t){angular.isDefined(n[t])&&(f[t]=n[t])}),n.bsShow&&t.$watch(n.bsShow,function(t,e){d&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(timepicker),?/i)),t===!0?d.show():d.hide())}),u&&(f.useNative||o.useNative)&&(f.timeFormat="HH:mm");var d=a(e,l,f);f=d.$options;var p=f.lang,h=function(t,e){return r.formatDate(t,e,p)},g=i({format:f.timeFormat,lang:p});angular.forEach(["minTime","maxTime"],function(t){angular.isDefined(n[t])&&n.$observe(t,function(e){d.$options[t]=g.getTimeForAttribute(t,e),isNaN(d.$options[t])||d.$build(),s(l.$dateValue)})}),t.$watch(n.ngModel,function(t,e){d.update(l.$dateValue)},!0),l.$parsers.unshift(function(t){if(!t)return l.$setValidity("date",!0),null;var e=angular.isDate(t)?t:g.parse(t,l.$dateValue);return!e||isNaN(e.getTime())?void l.$setValidity("date",!1):(s(e),"string"===f.timeType?h(e,f.modelTimeFormat||f.timeFormat):"number"===f.timeType?l.$dateValue.getTime():"unix"===f.timeType?l.$dateValue.getTime()/1e3:"iso"===f.timeType?l.$dateValue.toISOString():new Date(l.$dateValue))}),l.$formatters.push(function(t){var e;return e=angular.isUndefined(t)||null===t?NaN:angular.isDate(t)?t:"string"===f.timeType?g.parse(t,null,f.modelTimeFormat):"unix"===f.timeType?new Date(1e3*t):new Date(t),l.$dateValue=e,c()}),l.$render=function(){e.val(c())},t.$on("$destroy",function(){d&&d.destroy(),f=null,d=null})}}}]),angular.module("jb.ui").directive("draggable",function(){return{scope:{dragType:"=",dragVal:"="},link:function(t,e){var n=e[0];n.draggable=!0,n.addEventListener("dragstart",function(e){return e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("Type",t.dragType),e.dataTransfer.setData("Val",t.dragVal),this.classList.add("drag"),!1},!1),n.addEventListener("dragend",function(t){return this.classList.remove("drag"),!1},!1)}}}).directive("droppable",function(){return{scope:{drop:"&",dropVal:"="},link:function(t,e){var n=e[0];n.addEventListener("dragover",function(t){return t.dataTransfer.dropEffect="move",t.preventDefault&&t.preventDefault(),this.classList.add("over"),!1},!1),n.addEventListener("dragenter",function(t){return this.classList.add("over"),!1},!1),n.addEventListener("dragleave",function(t){return this.classList.remove("over"),!1},!1),n.addEventListener("drop",function(e){e.stopPropagation&&e.stopPropagation(),this.classList.remove("over");var n=e.dataTransfer.getData("Val");return t.$apply(function(t){var e=t.drop();"undefined"!=typeof e&&e(n,t.dropVal)}),!1},!1)}}}),angular.module("jb.ui").provider("$jbDropdown",function(){var t=this.defaults={animation:"am-fade",prefixClass:"dropdown",placement:"bottom-left",template:"jb/ui/dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!0,delay:0};this.$get=["$window","$rootScope","$jbTip","$timeout",function(e,n,r,i){function a(e,a){function l(t){return t.target!==e[0]?t.target!==e[0]&&s.hide():void 0}var s={},c=angular.extend({},t,a);s.$scope=c.scope&&c.scope.$new()||n.$new();s=r(e,c);var f=e.parent();s.$onKeyDown=function(t){if(/(38|40)/.test(t.keyCode)){t.preventDefault(),t.stopPropagation();var e=angular.element(s.$element[0].querySelectorAll("li:not(.divider) a"));if(e.length){var n;angular.forEach(e,function(t,e){u&&u.call(t,":focus")&&(n=e)}),38===t.keyCode&&n>0?n--:40===t.keyCode&&n<e.length-1?n++:angular.isUndefined(n)&&(n=0),e.eq(n)[0].focus()}}};var d=s.show;s.show=function(){d(),i(function(){c.keyboard&&s.$element.on("keydown",s.$onKeyDown),o.on("click",l)},0,!1),f.hasClass("dropdown")&&f.addClass("open")};var p=s.hide;s.hide=function(){s.$isShown&&(c.keyboard&&s.$element.off("keydown",s.$onKeyDown),o.off("click",l),f.hasClass("dropdown")&&f.removeClass("open"),p())};var h=s.destroy;return s.destroy=function(){o.off("click",l),h()},s}var o=angular.element(e.document.body),u=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return a}]}).directive("jbDropdown",["$window","$sce","$jbDropdown",function(t,e,n){return{restrict:"EAC",scope:!0,link:function(t,e,r,i){var a={scope:t};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","id"],function(t){angular.isDefined(r[t])&&(a[t]=r[t])}),r.jbDropdown&&t.$watch(r.jbDropdown,function(e,n){t.content=e},!0),r.bsShow&&t.$watch(r.bsShow,function(t,e){o&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(dropdown),?/i)),t===!0?o.show():o.hide())});var o=n(e,a);t.$on("$destroy",function(){o&&o.destroy(),a=null,o=null})}}}]),angular.module("jb.ui").directive("jbDropdownToggle",["$document","$location",function(t,e){var n=null,r=angular.noop;return{restrict:"CA",link:function(e,i,a){e.$watch("$location.path",function(){r()}),i.parent().bind("click",function(){r()}),i.bind("click",function(e){var a=i===n;e.preventDefault(),e.stopPropagation(),n&&r(),a||i.hasClass("disabled")||i.prop("disabled")||(i.parent().addClass("open"),n=i,r=function(e){e&&(e.preventDefault(),e.stopPropagation()),t.unbind("click",r),i.parent().removeClass("open"),r=angular.noop,n=null},t.bind("click",r))})}}}]),function(){var t=angular.module("jb.ui");t.directive("jbFormGroup",function(){return{restrict:"EA",replace:!0,templateUrl:"jb/ui/form/fg.tpl.html",scope:{lb:"@jbLb",ip:"=jbIp"}}}),t.directive("jbFormGroupH",function(){return{restrict:"EA",transclude:!0,replace:!0,templateUrl:function(t,e){return e.jbCount?"jb/ui/form/fgh2.tpl.html":"jb/ui/form/fgh.tpl.html"},scope:{lb:"=jbLb",w:"=jbWidth",count:"=?jbCount"},link:function(t,e,n){t.w0="col-sm-"+t.w[0],t.w1="col-sm-"+t.w[1],t.count&&(t.w2="col-sm-"+t.w[2],t.w3="col-sm-"+t.w[3])}}})}(),angular.module("jb.ui").directive("jbInputGroupDropdownBtn",function(){return{restrict:"ECA",scope:{jbSrc:"=",jbVal:"="},replace:!0,templateUrl:"jb/ui/inputGroupDropdownBtn/inputGroupDropdownBtn.tpl.html",link:function(t,e,n){if(!Array.isArray(t.jbSrc))throw"jbSrc must be array!";t.update=function(e){t.jbVal=e}}}}),angular.module("jb.ui").provider("$jbModal",function(){var t=this.defaults={type:"modal",size:null,placement:"center",template:"jb/ui/modal/modal.tpl.html",contentTemplate:!1,element:null,backdrop:!0,keyboard:!0,html:!0,show:!0};this.$get=["$window","$rootScope","$sce","$compile","$templateCache","$animate",function(e,n,r,i,a,o){function u(e){function u(t){t.target===t.currentTarget&&("static"===b.backdrop?m.focus():m.hide())}function p(){v.$emit(b.type+".hide",m),f.removeClass("modal-open"),b.animation&&f.removeClass(b.type+"-with-"+b.animation)}var h,g,m={},b=m.$options=angular.extend({},t,e),v=m.$scope=b.scope&&b.scope.$new()||n.$new();angular.forEach(["title","content"],function(t){b[t]&&(v[t]=r.trustAsHtml(b[t]))}),v.$hide=function(){v.$$postDigest(function(){m.hide()})},v.$show=function(){v.$$postDigest(function(){m.show()})},v.$toggle=function(){v.$$postDigest(function(){m.toggle()})},m.$isShown=v.$isShown=!1,m.$size=v.$size=b.size,m.$placement=v.$placement=b.placement,m.init=function(){b.show&&v.$$postDigest(function(){m.show()})},m.destroy=function(){h&&(h.remove(),h=null),v.$destroy()},m.show=function(){if(!m.$isShown){var t,e;t=f,e=t[0].lastChild?angular.element(t[0].lastChild):null,h=m.$element=y(v,function(t,e){}),h.css({display:"block"}),o.enter(h,t,e),m.$isShown=v.$isShown=!0,l(v),f.addClass("modal-open");var n=h[0];n.focus(),b.backdrop&&(g=angular.element(h.children()[0]),h.on("click",u),g.on("click",u),g.on("wheel",s)),b.keyboard&&h.on("keyup",m.$onKeyUp)}},m.hide=function(){if(m.$isShown){var t=o.leave(h,p);t&&t.then&&t.then(p),m.$isShown=v.$isShown=!1,l(v),b.backdrop&&(h.off("click",u),g.off("click",u),g.off("wheel",s)),b.keyboard&&h.off("keyup",m.$onKeyUp)}},m.toggle=function(){m.$isShown?m.hide():m.show()},m.focus=function(){h[0].focus()},m.$onKeyUp=function(t){27===t.which&&m.$isShown&&(m.hide(),t.stopPropagation())};var $=a.get(b.template);b.html&&($=$.replace(d,'ng-bind-html="')),$=c.apply($);var y=i($);return m.init(),m}function l(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}function s(t){t.preventDefault()}var c=String.prototype.trim,f=angular.element(e.document.body),d=/ng-bind="/gi;return u}]}).directive("jbModal",["$window","$sce","$jbModal",function(t,e,n){return{restrict:"EAC",scope:!0,link:function(t,r,i,a){var o={scope:t,element:r,show:!1};angular.forEach(["template","contentTemplate","placement","size","backdrop","keyboard","html","container","animation","id"],function(t){angular.isDefined(i[t])&&(o[t]=i[t])}),angular.forEach(["title","content"],function(n){i[n]&&i.$observe(n,function(r,i){t[n]=e.trustAsHtml(r)})}),i.jbModal&&t.$watch(i.jbModal,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e},!0);var u=n(o);r.on(i.trigger||"click",u.toggle),t.$on("$destroy",function(){u&&u.destroy(),o=null,u=null})}}}]),angular.module("jb.ui").controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(t,e,n,r){var i=this,a=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(r){e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){i.itemsPerPage=parseInt(e,10),t.totalPages=i.calculateTotalPages()}):this.itemsPerPage=r},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===t.totalPages},this.isActive=function(t){return this.page===t},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.getAttributeValue=function(e,n,i){return angular.isDefined(e)?i?r(e)(t.$parent):t.$parent.$eval(e):n},this.render=function(){this.page=parseInt(t.page,10)||1,this.page>0&&this.page<=t.totalPages&&(t.pages=this.getPages(this.page,t.totalPages))},t.selectPage=function(e){!i.isActive(e)&&e>0&&e<=t.totalPages&&(t.page=e,t.onSelectPage({page:e}))},t.$watch("page",function(){i.render()}),t.$watch("totalItems",function(){t.totalPages=i.calculateTotalPages()}),t.$watch("totalPages",function(e){a(t.$parent,e),i.page>e?t.selectPage(e):i.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("jbPagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"jb/ui/pager/pagination.tpl.html",replace:!0,link:function(n,r,i,a){function o(t,e,n,r){return{number:t,text:e,active:n,disabled:r}}var u,l=a.getAttributeValue(i.boundaryLinks,e.boundaryLinks),s=a.getAttributeValue(i.directionLinks,e.directionLinks),c=a.getAttributeValue(i.firstText,e.firstText,!0),f=a.getAttributeValue(i.previousText,e.previousText,!0),d=a.getAttributeValue(i.nextText,e.nextText,!0),p=a.getAttributeValue(i.lastText,e.lastText,!0),h=a.getAttributeValue(i.rotate,e.rotate);a.init(e.itemsPerPage),i.maxSize&&n.$parent.$watch(t(i.maxSize),function(t){u=parseInt(t,10),a.render()}),a.getPages=function(t,e){var n=[],r=1,i=e,g=angular.isDefined(u)&&e>u;g&&(h?(r=Math.max(t-Math.floor(u/2),1),i=r+u-1,i>e&&(i=e,r=i-u+1)):(r=(Math.ceil(t/u)-1)*u+1,i=Math.min(r+u-1,e)));for(var m=r;i>=m;m++){var b=o(m,m,a.isActive(m),!1);n.push(b)}if(g&&!h){if(r>1){var v=o(r-1,"...",!1,!1);n.unshift(v)}if(e>i){var $=o(i+1,"...",!1,!1);n.push($)}}if(s){var y=o(t-1,f,!1,a.noPrevious());n.unshift(y);var w=o(t+1,d,!1,a.noNext());n.push(w)}if(l){var _=o(1,c,!1,a.noPrevious());n.unshift(_);var j=o(e,p,!1,a.noNext());n.push(j)}return n}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("jbPager",["pagerConfig",function(t){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"jb/ui/pager/pager.tpl.html",replace:!0,link:function(e,n,r,i){function a(t,e,n,r,i){return{number:t,text:e,disabled:n,previous:l&&r,next:l&&i}}var o=i.getAttributeValue(r.previousText,t.previousText,!0),u=i.getAttributeValue(r.nextText,t.nextText,!0),l=i.getAttributeValue(r.align,t.align);i.init(t.itemsPerPage),i.getPages=function(t){return[a(t-1,o,i.noPrevious(),!0,!1),a(t+1,u,i.noNext(),!1,!0)]}}}}]),angular.module("jb.ui").provider("$jbPop",function(){var t=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"jb/ui/popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!0,title:"",content:"",delay:0,autoClose:!1};this.$get=["$jbTip",function(e){function n(n,r){var i=angular.extend({},t,r),a=e(n,i);return i.content&&(a.$scope.content=i.content),a}return n}]}).directive("jbPop",["$window","$sce","$jbPop",function(t,e,n){var r=t.requestAnimationFrame||t.setTimeout;return{restrict:"EAC",scope:!0,link:function(t,i,a){var o={scope:t};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass","autoClose","id"],function(t){angular.isDefined(a[t])&&(o[t]=a[t])}),angular.forEach(["title","content"],function(n){a[n]&&a.$observe(n,function(i,a){t[n]=e.trustAsHtml(i),angular.isDefined(a)&&r(function(){u&&u.$applyPlacement()})})}),a.jbPop&&t.$watch(a.jbPop,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e,angular.isDefined(n)&&r(function(){u&&u.$applyPlacement()})},!0),a.bsShow&&t.$watch(a.bsShow,function(t,e){u&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(popover),?/i)),t===!0?u.show():u.hide())});var u=n(i,o);t.$on("$destroy",function(){u&&u.destroy(),o=null,u=null})}}}]),angular.module("jb.ui").directive("jbRadioList",["$parse",function(t){return{restrict:"ECA",scope:{jbSrc:"=",jbVal:"=",jbOther:"="},templateUrl:"jb/ui/radioList/radioList.tpl.html",link:function(t,e,n){function r(e){e&&(t.jbSrc.indexOf(e)>-1?t.selection=e:t.jbOther?(t.selection="other",t.otherVal=e):(t.selection="",t.otherVal=""))}function i(){t.jbVal="other"===t.selection?t.otherVal:t.selection}if(!angular.isArray(t.jbSrc))throw"jbSrc must be array!";t.selection="",t.otherVal="",r(t.jbVal),t.select=function(e){t.selection=e,"other"!==e&&(t.otherVal=""),i()},t.$watch("otherVal",function(e){e&&(t.selection="other"),i()}),t.$watch("jbVal",r)}}}]),function(){var t=angular.module("jb.ui");t.provider("$jbSelect",function(){var t=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",template:"jb/ui/select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"下拉选择",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$jbTip","$timeout",function(e,n,r,i,a){function o(e,n,r){var o={},u=angular.extend({},t,r);u.sort=u.sort.toString().match(/true|1/i),o=i(e,u);var s=o.$scope;s.$matches=[],s.$activeIndex=-1,s.$isMultiple=u.multiple,s.$showAllNoneButtons=u.allNoneButtons&&u.multiple,s.$iconCheckmark=u.iconCheckmark,s.$allText=u.allText,s.$noneText=u.noneText,s.$activate=function(t){s.$$postDigest(function(){o.activate(t)})},s.$select=function(t,e){s.$$postDigest(function(){o.select(t)})},s.$isVisible=function(){return o.$isVisible()},s.$isActive=function(t){return o.$isActive(t)},s.$selectAll=function(){for(var t=0;t<s.$matches.length;t++)s.$isActive(t)||s.$select(t)},s.$selectNone=function(){for(var t=0;t<s.$matches.length;t++)s.$isActive(t)&&s.$select(t)},o.update=function(t){s.$matches=t,o.$updateActiveIndex()},o.activate=function(t){return u.multiple?(o.$isActive(t)?s.$activeIndex.splice(s.$activeIndex.indexOf(t),1):s.$activeIndex.push(t),u.sort&&s.$activeIndex.sort()):s.$activeIndex=t,s.$activeIndex},o.select=function(t){var e=s.$matches[t].value;s.$apply(function(){o.activate(t),u.multiple?n.$setViewValue(s.$activeIndex.map(function(t){return s.$matches[t].value})):(n.$setViewValue(e),o.hide())}),s.$emit(u.prefixEvent+".select",e,t,o)},o.$updateActiveIndex=function(){n.$modelValue&&s.$matches.length?u.multiple&&angular.isArray(n.$modelValue)?s.$activeIndex=n.$modelValue.map(function(t){return o.$getIndex(t)}):s.$activeIndex=o.$getIndex(n.$modelValue):s.$activeIndex>=s.$matches.length&&(s.$activeIndex=u.multiple?[]:0)},o.$isVisible=function(){return u.minLength&&n?s.$matches.length&&n.$viewValue.length>=u.minLength:s.$matches.length},o.$isActive=function(t){return u.multiple?-1!==s.$activeIndex.indexOf(t):s.$activeIndex===t},o.$getIndex=function(t){var e=s.$matches.length,n=e;if(e){for(n=e;n--&&s.$matches[n].value!==t;);if(!(0>n))return n}},o.$onMouseDown=function(t){if(t.preventDefault(),t.stopPropagation(),l){var e=angular.element(t.target);e.triggerHandler("click")}},o.$onKeyDown=function(t){return/(9|13|38|40)/.test(t.keyCode)?(t.preventDefault(),t.stopPropagation(),u.multiple&&9===t.keyCode?o.hide():u.multiple||13!==t.keyCode&&9!==t.keyCode?void(u.multiple||(38===t.keyCode&&s.$activeIndex>0?s.$activeIndex--:38===t.keyCode&&s.$activeIndex<0?s.$activeIndex=s.$matches.length-1:40===t.keyCode&&s.$activeIndex<s.$matches.length-1?s.$activeIndex++:angular.isUndefined(s.$activeIndex)&&(s.$activeIndex=0),s.$digest())):o.select(s.$activeIndex)):void 0};var c=o.show;o.show=function(){c(),u.multiple&&o.$element.addClass("select-multiple"),a(function(){o.$element.on(l?"touchstart":"mousedown",o.$onMouseDown),u.keyboard&&e.on("keydown",o.$onKeyDown)},0,!1)};var f=o.hide;return o.hide=function(){u.multiple||n.$modelValue||(s.$activeIndex=-1),o.$element.off(l?"touchstart":"mousedown",o.$onMouseDown),u.keyboard&&e.off("keydown",o.$onKeyDown),f(!0)},o}var u=(angular.element(e.document.body),/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent)),l="createTouch"in e.document&&u;return o.defaults=t,o}]}),t.directive("jbSelect",["$window","$parse","$q","$jbSelect","$jbParseOptions",function(t,e,n,r,i){var a=r.defaults;return{restrict:"EAC",require:"ngModel",link:function(t,e,n,o){var u={scope:t,placeholder:a.placeholder};if(angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple","allNoneButtons","maxLength","maxLengthHtml","allText","noneText","iconCheckmark","autoClose","id","sort","caretHtml"],function(t){angular.isDefined(n[t])&&(u[t]=n[t])}),"select"===e[0].nodeName.toLowerCase()){var l=e;l.css("display","none"),e=angular.element('<button type="button" class="btn btn-default"></button>'),l.after(e)}var s=i(n.jbOptions),c=r(e,o,u),f=s.$match[7].replace(/\|.+/,"").trim();t.$watch(f,function(e,n){s.valuesFn(t,o).then(function(t){c.update(t),o.$render()})},!0),t.$watch(n.ngModel,function(t,e){c.$updateActiveIndex(),o.$render()},!0),o.$render=function(){var t,n;u.multiple&&angular.isArray(o.$modelValue)?(t=o.$modelValue.map(function(t){return n=c.$getIndex(t),angular.isDefined(n)?c.$scope.$matches[n].label:!1}).filter(angular.isDefined),t=t.length>(u.maxLength||a.maxLength)?t.length+" "+(u.maxLengthHtml||a.maxLengthHtml):t.join(", ")):(n=c.$getIndex(o.$modelValue),t=angular.isDefined(n)?c.$scope.$matches[n].label:!1),e.html((t?t:u.placeholder)+(u.caretHtml?u.caretHtml:a.caretHtml))},u.multiple&&(o.$isEmpty=function(t){return!t||0===t.length}),t.$on("$destroy",function(){c&&c.destroy(),u=null,c=null})}}}])}(),function(t){"use strict";t.module("jb.ui.table",["jb.filter"])}(angular),angular.module("jb.ui").controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(t){t.active=!1}),t.active=!0},e.addTab=function(t){n.push(t),(1===n.length||t.active)&&e.select(t)},e.removeTab=function(t){var r=n.indexOf(t);if(t.active&&n.length>1){var i=r==n.length-1?r-1:r+1;e.select(n[i])}n.splice(r,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,require:"^tabset",scope:{},controller:"TabsetController",templateUrl:"jb/ui/tabs/tabset.tpl.html",compile:function(t,e,n){return function(t,e,r,i){t.vertical=angular.isDefined(r.vertical)?t.$parent.$eval(r.vertical):!1,t.justified=angular.isDefined(r.justified)?t.$parent.$eval(r.justified):!1,t.type=angular.isDefined(r.type)?t.$parent.$eval(r.type):"tabs",t.direction=angular.isDefined(r.direction)?t.$parent.$eval(r.direction):"top",t.tabsAbove="below"!=t.direction,i.$scope=t,i.$transcludeFn=n}}}}).directive("tab",["$parse",function(t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"jb/ui/tabs/tab.tpl.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,n,r){return function(e,n,i,a){var o,u;i.active?(o=t(i.active),u=o.assign,e.$parent.$watch(o,function(t,n){t!==n&&(e.active=!!t)}),e.active=o(e.$parent)):u=o=angular.noop,e.$watch("active",function(t){u(e.$parent,t),t?(a.select(e),e.onSelect()):e.onDeselect()}),e.disabled=!1,i.disabled&&e.$parent.$watch(t(i.disabled),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},a.addTab(e),e.$on("$destroy",function(){a.removeTab(e)}),e.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e,n,r){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,r){var i=e.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}).directive("tabsetTitles",function(){return{restrict:"A",require:"^tabset",templateUrl:"jb/ui/tabs/tabset-titles.tpl.html",replace:!0,link:function(t,e,n,r){t.$eval(n.tabsetTitles)?r.$transcludeFn(r.$scope.$parent,function(t){e.append(t)}):e.remove()}}}),angular.module("jb.ui").provider("$jbTip",function(){var t=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"jb/ui/tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!0,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$sce","$$rAF","$timeout","$jbPosition",function(e,n,r,i,a,o,u,l,s,c,f){function d(e,i){function a(){M.$emit(A.prefixEvent+".show",F)}function o(){if(M.$emit(A.prefixEvent+".hide",F),V===q){if(H&&"focus"===A.trigger)return e[0].blur();S()}}function d(){var t=A.trigger.split(" ");angular.forEach(t,function(t){"click"===t?e.on("click",F.toggle):"manual"!==t&&(e.on("hover"===t?"mouseenter":"focus",F.enter),e.on("hover"===t?"mouseleave":"blur",F.leave),"button"===C&&"hover"!==t&&e.on(b?"touchstart":"mousedown",F.$onFocusElementMouseDown))})}function y(){for(var t=A.trigger.split(" "),n=t.length;n--;){var r=t[n];"click"===r?e.off("click",F.toggle):"manual"!==r&&(e.off("hover"===r?"mouseenter":"focus",F.enter),e.off("hover"===r?"mouseleave":"blur",F.leave),"button"===C&&"hover"!==r&&e.off(b?"touchstart":"mousedown",F.$onFocusElementMouseDown));
}}function w(){"focus"!==A.trigger?V.on("keyup",F.$onKeyUp):e.on("keyup",F.$onFocusKeyUp)}function _(){"focus"!==A.trigger?V.off("keyup",F.$onKeyUp):e.off("keyup",F.$onFocusKeyUp)}function j(){c(function(){V.on("click",k),$.on("click",F.hide),z=!0},0,!1)}function x(){z&&(V.off("click",k),$.off("click",F.hide),z=!1)}function k(t){t.stopPropagation()}function T(t){t=t||A.target||e;var n=t[0],r=n.getBoundingClientRect(),i={};for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);null===r.width&&(i=angular.extend({},i,{width:r.right-r.left,height:r.bottom-r.top}));var o={};return o="body"===A.container?f.offset(t):f.position(t),angular.extend({},i,o)}function D(t,e,n,r){var i,a=t.split("-");switch(a[0]){case"right":i={top:e.top+e.height/2-r/2,left:e.left+e.width};break;case"bottom":i={top:e.top+e.height,left:e.left+e.width/2-n/2};break;case"left":i={top:e.top+e.height/2-r/2,left:e.left-n};break;default:i={top:e.top-r,left:e.left+e.width/2-n/2}}if(!a[1])return i;if("top"===a[0]||"bottom"===a[0])switch(a[1]){case"left":i.left=e.left;break;case"right":i.left=e.left+e.width-n}else if("left"===a[0]||"right"===a[0])switch(a[1]){case"top":i.top=e.top-r;break;case"bottom":i.top=e.top+e.height}return i}function E(t,e){V.css({top:t+"px",left:e+"px"})}function S(){clearTimeout(O),F.$isShown&&null!==V&&(A.autoClose&&x(),A.keyboard&&_()),N&&(N.$destroy(),N=null),V&&(V.remove(),V=F.$element=null)}var F={},C=e[0].nodeName.toLowerCase(),A=F.$options=angular.extend({},t,i);F.$promise=g(A.template);var M=F.$scope=A.scope&&A.scope.$new()||n.$new();if(A.delay&&angular.isString(A.delay)){var I=A.delay.split(",").map(parseFloat);A.delay=I.length>1?{show:I[0],hide:I[1]}:I[0]}F.$id=A.id||e.attr("id")||"",A.title&&(M.title=l.trustAsHtml(A.title)),M.$setEnabled=function(t){M.$$postDigest(function(){F.setEnabled(t)})},M.$hide=function(){M.$$postDigest(function(){F.hide()})},M.$show=function(){M.$$postDigest(function(){F.show()})},M.$toggle=function(){M.$$postDigest(function(){F.toggle()})},F.$isShown=M.$isShown=!1;var O,R;A.contentTemplate&&(F.$promise=F.$promise.then(function(t){var e=angular.element(t);return g(A.contentTemplate).then(function(t){var n=h('[ng-bind="content"]',e[0]);return n.length||(n=h('[ng-bind="title"]',e[0])),n.removeAttr("ng-bind").html(t),e[0].outerHTML})}));var P,V,L,U,N;F.$promise.then(function(t){angular.isObject(t)&&(t=t.data),A.html&&(t=t.replace(v,'ng-bind-html="')),t=m.apply(t),L=t,P=r(t),F.init()}),F.init=function(){A.delay&&angular.isNumber(A.delay)&&(A.delay={show:A.delay,hide:A.delay}),"self"===A.container?U=e:angular.isElement(A.container)?U=A.container:A.container&&(U=h(A.container)),d(),A.target&&(A.target=angular.isElement(A.target)?A.target:h(A.target)),A.show&&M.$$postDigest(function(){"focus"===A.trigger?e[0].focus():F.show()})},F.destroy=function(){y(),S(),M.$destroy()},F.enter=function(){return clearTimeout(O),R="in",A.delay&&A.delay.show?void(O=setTimeout(function(){"in"===R&&F.show()},A.delay.show)):F.show()},F.show=function(){if(A.bsEnabled&&!F.$isShown){M.$emit(A.prefixEvent+".show.before",F);var t,n;A.container?(t=U,n=U[0].lastChild?angular.element(U[0].lastChild):null):(t=null,n=e),V&&S(),N=F.$scope.$new(),V=F.$element=P(N,function(t,e){}),V.css({top:"-9999px",left:"-9999px",display:"block",visibility:"hidden"}),A.animation&&V.addClass(A.animation),A.type&&V.addClass(A.prefixClass+"-"+A.type),A.customClass&&V.addClass(A.customClass);var r=u.enter(V,t,n,a);r&&r.then&&r.then(a),F.$isShown=M.$isShown=!0,p(M),s(function(){F.$applyPlacement(),V&&V.css({visibility:"visible"})}),A.keyboard&&("focus"!==A.trigger&&F.focus(),w()),A.autoClose&&j()}},F.leave=function(){return clearTimeout(O),R="out",A.delay&&A.delay.hide?void(O=setTimeout(function(){"out"===R&&F.hide()},A.delay.hide)):F.hide()};var H,q;F.hide=function(t){if(F.$isShown){M.$emit(A.prefixEvent+".hide.before",F),H=t,q=V;var e=u.leave(V,o);e&&e.then&&e.then(o),F.$isShown=M.$isShown=!1,p(M),A.keyboard&&null!==V&&_(),A.autoClose&&null!==V&&x()}},F.toggle=function(){F.$isShown?F.leave():F.enter()},F.focus=function(){V[0].focus()},F.setEnabled=function(t){A.bsEnabled=t},F.$applyPlacement=function(){if(V){var n=A.placement,r=/\s?auto?\s?/i,i=r.test(n);i&&(n=n.replace(r,"")||t.placement),V.addClass(A.placement);var a=T(),o=V.prop("offsetWidth"),u=V.prop("offsetHeight");if(i){var l=n,s=A.container?angular.element(document.querySelector(A.container)):e.parent(),c=T(s);l.indexOf("bottom")>=0&&a.bottom+u>c.bottom?n=l.replace("bottom","top"):l.indexOf("top")>=0&&a.top-u<c.top&&(n=l.replace("top","bottom")),("right"===l||"bottom-left"===l||"top-left"===l)&&a.right+o>c.width?n="right"===l?"left":n.replace("left","right"):("left"===l||"bottom-right"===l||"top-right"===l)&&a.left-o<c.left&&(n="left"===l?"right":n.replace("right","left")),V.removeClass(l).addClass(n)}var f=D(n,a,o,u);E(f.top,f.left)}},F.$onKeyUp=function(t){27===t.which&&F.$isShown&&(F.hide(),t.stopPropagation())},F.$onFocusKeyUp=function(t){27===t.which&&(e[0].blur(),t.stopPropagation())},F.$onFocusElementMouseDown=function(t){t.preventDefault(),t.stopPropagation(),F.$isShown?e[0].blur():e[0].focus()};var z=!1;return F}function p(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}function h(t,e){return angular.element((e||document).querySelectorAll(t))}function g(t){return y[t]?y[t]:y[t]=i.when(a.get(t)||o.get(t)).then(function(e){return angular.isObject(e)?(a.put(t,e.data),e.data):e})}var m=String.prototype.trim,b="createTouch"in e.document,v=/ng-bind="/gi,$=angular.element(e.document),y={};return d}]}).directive("jbTip",["$window","$location","$sce","$jbTip","$$rAF",function(t,e,n,r,i){return{restrict:"EAC",scope:!0,link:function(t,e,a,o){var u={scope:t};angular.forEach(["template","contentTemplate","placement","container","delay","trigger","keyboard","html","animation","backdropAnimation","type","customClass","id"],function(t){angular.isDefined(a[t])&&(u[t]=a[t])}),e.attr("data-target")&&(u.target=e.attr("data-target")),t.hasOwnProperty("title")||(t.title=""),a.$observe("title",function(e){if(angular.isDefined(e)||!t.hasOwnProperty("title")){var r=t.title;t.title=n.trustAsHtml(e),angular.isDefined(r)&&i(function(){l&&l.$applyPlacement()})}}),a.jbTip&&t.$watch(a.jbTip,function(e,n){angular.isObject(e)?angular.extend(t,e):t.title=e,angular.isDefined(n)&&i(function(){l&&l.$applyPlacement()})},!0),a.bsShow&&t.$watch(a.bsShow,function(t,e){l&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(tooltip),?/i)),t===!0?l.show():l.hide())}),a.bsEnabled&&t.$watch(a.bsEnabled,function(t,e){l&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|1|,?(tooltip),?/i)),t===!1?l.setEnabled(!1):l.setEnabled(!0))});var l=r(e,u);t.$on("$destroy",function(){l&&l.destroy(),u=null,l=null})}}}]),function(){var t=angular.module("jb.ui"),e=["$scope","$element","$transclude",function(t,e,n){var r;t.$on("$destroy",function(){r&&(r.remove(),r=null)}),this.transclude=function(t,e){for(var n=0;n<r.length;++n){var i=angular.element(r[n]);if(i.attr("name")===t)return e.empty(),void(i.attr("jb-transclude-self")?e.append(i):e.append(i.children()))}},n(function(t){r=t})}];t.directive("jbTransclude",function(){return{controller:e}}),t.directive("jbPartial",function(){return{require:["^jbTransclude"],link:function(t,e,n,r){var i=r[0];i.transclude(n.jbPartial,e)}}})}(),angular.module("jb.ui").directive("jbTriStateCheckboxTreeview",function(){return{restrict:"ECA",link:function(t,e,n){e.on("change",function(t){function e(t){var r=t.parent().parent(),i=!0;t.siblings().each(function(){return i=$(this).children('input[type="checkbox"]').prop("checked")===n}),i&&n?(r.children('input[type="checkbox"]').prop({indeterminate:!1,checked:n}),e(r)):i&&!n?(r.children('input[type="checkbox"]').prop("checked",n),r.children('input[type="checkbox"]').prop("indeterminate",r.find('input[type="checkbox"]:checked').length>0),e(r)):t.parents("li").children('input[type="checkbox"]').prop({indeterminate:!0,checked:!1})}var n=$(t.target).prop("checked"),r=$(t.target).parent();r.siblings();r.find('input[type="checkbox"]').prop({indeterminate:!1,checked:n}),e(r)})}}}),function(){var t=angular.module("jb.ui.widget",[]),e=["$scope","$element","$attrs",function(t,e,n){var r=this,i=[];e.addClass("panel-group"),this.add=function(t){i.push(t),t.$on("$destroy",function(e){r.del(t)})},this.del=function(t){var e=i.indexOf(t);-1!==e&&i.splice(e,1)},this.closeOthers=function(e){var r=t.$eval(n.jbWidgets);r||angular.forEach(i,function(t){t!==e&&(t.isHide=!0)})}}];t.directive("jbWidgets",function(){return{controller:e}}),t.directive("jbWidget",function(){return{restrict:"EA",require:"^?jbWidgets",transclude:!0,replace:!0,templateUrl:"jb/ui/widget/widget.tpl.html",scope:{title:"@",isHide:"=?",showFoot:"=",ctx:"=?jbCtx"},link:function(t,e,n,r){var i=r;i&&(i.add(t),t.$watch("isHide",function(e){e||i.closeOthers(t)})),t.$toggle=function(){t.isHide=!t.isHide}}}})}(),function(){var t=angular.module("jb.ui");t.directive("jbSeleZd",["$jbZd",function(t){return{replace:!0,scope:{jbSeleZd:"@"},templateUrl:"jb/ui/zd/zd.tpl.html",link:function(e,n,r){t.get(e.jbSeleZd).then(function(t){e.$src=t})}}}]),t.directive("jbZd",["$jbZd",function(t){return{scope:{jbZd:"@",jbZdDm:"="},template:function(t,e){return e.jbZdJc?"{{zd.Jc}}":"{{zd.Mc}}"},link:function(e,n,r){function i(){e.jbZdDm&&t.get(e.jbZd).then(function(t){e.zd=_.find(t,{Dm:e.jbZdDm})})}e.$watch("jbZdDm",i)}}}])}(),function(t){"use strict";function e(t){}var n=t.module("jb.ui.table");e.$inject=["$scope"],n.directive("jbTable",["$compile","$q","$parse",function(t,n,r){return{scope:{},restrict:"A",controller:e,compile:function(e,n,i){var a=[],o=0,u=null;return angular.forEach(angular.element(e.find("tr")),function(t){t=angular.element(t),t.hasClass("jb-table-add")||u||(u=t)}),u?(angular.forEach(u.find("td"),function(t){var e=angular.element(t),n=function(t,n){return function(i){return r(e.attr("x-data-"+t)||e.attr("data-"+t)||e.attr(t))(i,{$columns:a})||n}},i=n("title"," ");a.push({id:o++,title:i()})}),function(e,n,r){e.$columns=a,e.headerTpl="jb/ui/table/tableHeader.tpl.html";var i=angular.element(document.createElement("thead")).attr("ng-include","headerTpl");n.addClass("jb-table").prepend(i),t(i)(e)}):void 0}}}])}(angular),function(t){function e(e,n,r,i,a,o,u,l){function s(){e.$src=c(e.meta.ctx.lst),g.pipe(),f()}function c(t){return t?[].concat(t):[]}function f(){function e(){t.forEach(v,function(t){t.onResize()})}o(e,10,!0)}function d(t){var e,n,r=b("{{$row.{0}}}",t.field),i="<td>{0}</td>",a="<td {0}>{1}</td>";return t.celltpl?r=t.celltpl:t.field&&("int"===t.type?n='class="text-right text-middle"':"date"===t.type?r=b("{{$row.{0}|date}}",t.field):"jbzd"===t.type&&(n=b('jb-zd="{0}" jb-zd-dm="$row.{1}"',t.jbzd,t.field))),e=n?b(a,n,r):b(i,r)}var p,h=angular.element(u),g=this,m=i("orderBy"),b=(i("filter"),l.fmt),v=(e.$src=c(e.src),[]),$={sort:{},search:{},pagination:{start:0}};e.$watchCollection("meta.ctx.lst",s),h.on("resize",f),this.addCol=function(t){v.push(t),t.$on("$destroy",function(e){g.del(t)})},this.del=function(t){var e=v.indexOf(t);-1!==e&&v.splice(e,1)},this.sortBy=function(t,e){return $.sort.predicate=t,$.sort.reverse=e===!0,this.pipe()},e.pager=function(t){e.meta.filter.page=t,e.meta.ctx.refresh(e.meta.filter)},this.filter=function(){var n=[];t.forEach(e.meta.cols,function(t){void 0!==t.filter&&n.push(t.filter)}),e.meta.filter.groups=n,console.log(e.meta.filter),e.meta.ctx.refresh(e.meta.filter)},this.pipe=function(){p=c(e.meta.ctx.lst),$.sort.predicate&&(p=m(p,$.sort.predicate,$.sort.reverse)),e.$src=p},this.bodyTr=function(){var n='<tr ng-repeat="$row in $src">';return t.forEach(e.meta.cols,function(t){n+=d(t)}),n+="</tr>"},e.$on("$destroy",function(t){h.off("resize",f)})}var n=t.module("jb.ui.table"),r={empty:"空",not_empty:"非空",contains:"包含",start:"开始为",end:"结束为",equal:"等于"},i={NONE:"无",AND:"与",OR:"或"};e.$inject=["$scope","$element","$attrs","$filter","$parse","$timeout","$window","jb$"],n.directive("jbTable2",["$compile","$q","$parse",function(t,n,r){return{replace:!0,templateUrl:"jb/ui/table/table.tpl.html",scope:{meta:"=jbMeta"},controller:e,link:function(t,e,n,r){}}}]),n.directive("jbTableTh",function(){return{require:"^jbTable2",link:function(t,e,n,r){r.addCol(t),t.onResize=function(){t.col.width=e[0].clientWidth}}}}),n.directive("jbTableCol",["$compile","$q","$parse","$jbFilter",function(t,e,n,a){return{require:"^jbTable2",restrict:"C",replace:!0,templateUrl:"jb/ui/table/th.tpl.html",link:function(t,e,n,o){function u(){t.$index++,o.sortBy(t.col.field,t.$index%2===0)}t.$index=0,t.pop={filterOpt:r,filterCondition:i},t.onTitle=function(){void 0!==t.col.sort&&u()},t.onFilter=function(){o.filter()},t.col.filter===!0&&(t.col.filter=a.group2(null,t.col.field))}}}]),n.directive("jbTableBody",["$compile","$q","$parse",function(t,e,n){return{require:"^jbTable2",link:function(e,n,r,i){var a=t(i.bodyTr())(e);n.append(a)}}}])}(angular),angular.module("jBreak",["LocalStorageModule","ngLocale","jb","jb.auth","jb.ctx","jb.filter","jb.ui","jb.zd"]).config(["localStorageServiceProvider",function(t){t.setPrefix("jBreak").setNotify(!0,!0)}]),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null,$placement]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/aside/aside.tpl.html",'<div class="modal" tabindex="-1" role="dialog"><div class="modal-backdrop"></div><div class="aside-dialog" ng-class="{\'modal-sm\': $size == \'sm\', \'modal-lg\': $size == \'lg\',\'left\':$placement==\'left\'}"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/checkList/checkList.tpl.html",'<label class="checkbox-inline" ng-repeat="s in jbSrc"><input type="checkbox" value="{{s}}" ng-checked="selection.indexOf(s) > -1" ng-click="toggleSelection(s)"> {{s}}</label> <label class="checkbox-inline" ng-show="jbOther"><input type="checkbox" ng-model="otherCk" ng-click="toggleOther()"> 其他</label> <label class="checkbox-inline" ng-show="jbOther"><input type="text" ng-model="otherVal" class="form-control input-sm"></label>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/datetime/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px;"><table style="table-layout: fixed; height: 100%; width: 100%;"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize;" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-show="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/datetime/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto;"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/form/fg.tpl.html",'<div class="form-group form-group-sm"><label>{{lb}}</label> <input type="text" class="form-control" ng-model="ip"></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/form/fgh.tpl.html",'<div class="form-group form-group-sm"><label class="control-label {{w0}}">{{lb}}</label><div class="{{w1}}" ng-transclude=""></div></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/form/fgh2.tpl.html",'<div class="form-group form-group-sm" jb-transclude=""><label class="control-label {{w0}}">{{lb[0]}}</label><div class="{{w1}}" jb-partial="input1"></div><label class="control-label {{w2}}">{{lb[1]}}</label><div class="{{w3}}" jb-partial="input2"></div></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/inputGroupDropdownBtn/inputGroupDropdownBtn.tpl.html",'<div class="input-group-btn"><button class="btn btn-default" jb-dropdown-toggle=""><span class="caret"></span></button><ul class="dropdown-menu pull-right"><li ng-repeat="it in jbSrc"><a ng-click="update(it)">{{it}}</a></li></ul></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/modal/modal.tpl.html",'<div class="modal fade in" tabindex="-1" role="dialog"><div class="modal-backdrop"></div><div class="modal-dialog" ng-class="{\'modal-sm\': $size == \'sm\', \'modal-lg\': $size == \'lg\',\'center\':$placement==\'center\'}"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="$ok()">确定</button> <button type="button" class="btn btn-default" ng-click="$hide()">取消</button></div></div></div></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/popover/popover.tpl.html",'<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/radioList/radioList.tpl.html",'<label class="radio-inline" ng-repeat="s in jbSrc"><input type="radio" value="{{s}}" ng-checked="selection==s" ng-click="select(s)"> {{s}}</label> <label class="radio-inline" ng-show="jbOther"><input type="radio" ng-checked="selection==\'other\'" value="other" ng-click="select(\'other\')"> 其他</label> <label class="checkbox-inline" ng-show="jbOther"><input type="text" ng-model="otherVal" class="form-control input-sm"></label>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default;" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/table/table.tpl.html",'<div class="panel panel-default jb-table"><div class="panel-heading"><div ng-repeat="col in meta.cols" class="jb-table-col"></div></div><div class="panel-collapse"><table class="table table-bordered table-hover table-condensed"><thead><tr><th ng-repeat="col in meta.cols" jb-table-th="" class="th">{{col.title}}</th></tr></thead><tbody jb-table-body=""></tbody><tfoot></tfoot></table></div><div class="panel-footer"><jb-pagination ng-if="meta.page" boundary-links="true" total-items="meta.ctx.total" page="meta.ctx.page" max-size="10" items-per-page="meta.filter.perPage" on-select-page="pager(page)" class="pagination-sm pull-right" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></jb-pagination></div></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/table/tableHeader.tpl.html",'<tr><th ng-repeat="c in $columns">{{c.title}}</th></tr>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/table/th-opt.tpl.html",'<ul tabindex="-1" class="dropdown-menu jb-th-opt" role="menu"><li role="presentation"><a role="menuitem" href="#"><span class="glyphicon glyphicon-sort-by-alphabet"></span> 升序(最低到最高)</a></li><li role="presentation"><a role="menuitem" href="#"><span class="glyphicon glyphicon-sort-by-alphabet-alt"></span> 降序(最高到最低)</a></li><li role="presentation"><a role="menuitem" href="#"><span class="glyphicon glyphicon-sort"></span> 不排序</a></li><li class="divider"></li><li ng-if="col.filter!==undefined"><div class="jb-th-opt-filter"><select class="form-control input-sm" ng-model="col.filter.Rules[0].Opt" ng-options="k as v for (k,v) in filterOpt"></select><input type="text" class="form-control input-sm" ng-model="col.filter.Rules[0].Val1"><div class="form-group-sm"><label class="radio-inline" ng-repeat="(k,v) in filterCondition"><input type="radio" value="{{k}}" ng-model="col.filter.Condition"> {{v}}</label></div><select class="form-control input-sm" ng-model="col.filter.Rules[1].Opt" ng-disabled="col.filter.Condition==\'NONE\'" ng-options="k as v for (k,v) in filterOpt"></select><input type="text" class="form-control input-sm" ng-model="col.filter.Rules[1].Val1" ng-disabled="col.filter.Condition==\'NONE\'"><div class="btn-group btn-group-sm pull-right"><button class="btn btn-primary" ng-click="onFilter()">过滤</button> <button class="btn btn-default">清除</button></div></div></li></ul>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/table/th.tpl.html",'<div ng-style="{\'width\':col.width+\'px\'}"><span ng-click="onTitle()">{{col.title}}</span> <span class="jb-th-right"><span ng-if="col.sort!==undefined" class="glyphicon" ng-class="{\'glyphicon-triangle-bottom\':$index%2==1,\'glyphicon-triangle-top\':$index%2==0}"></span> <span ng-if="col.filter!==undefined" class="glyphicon glyphicon-filter"></span> <span class="glyphicon glyphicon-menu-down" jb-pop="pop" data-auto-close="false" data-placement="right-bottom" data-template="jb/ui/table/th-opt.tpl.html"></span></span></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/tabs/tab.tpl.html",'<li ng-class="{active: active, disabled: disabled}"><a ng-click="select()" tab-heading-transclude="">{{heading}}</a></li>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/tabs/tabset-titles.tpl.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\"></ul>")}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/tabs/tabset.tpl.html",'<div class="tabbable" ng-class="{\'tabs-right\': direction == \'right\', \'tabs-left\': direction == \'left\', \'tabs-below\': direction == \'below\'}"><div tabset-titles="tabsAbove"></div><div class="tab-content"><div class="tab-pane" ng-repeat="tab in tabs" ng-class="{active: tab.active}" tab-content-transclude="tab"></div></div><div tabset-titles="!tabsAbove"></div></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/widget/widget.tpl.html",'<div class="panel panel-default" jb-transclude=""><div class="panel-heading" jb-partial="heading"><div jb-partial="actions" class="btn-group btn-group-xs pull-right"><button class="btn btn-default" ng-click="$toggle()">X</button></div><div jb-partial="tools" class="pull-right" style="margin-right: 10px"></div><h4 class="panel-title" jb-partial="title">{{title}}</h4></div><div class="panel-collapse collapse" ng-class="{\'in\':!isHide}" jb-partial="body"><div class="panel-body" jb-partial="content"></div></div><div class="panel-footer" ng-if="showFoot"></div></div>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/pager/pager.tpl.html",'<ul class="pager"><li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li></ul>')}])}(),function(t){try{t=angular.module("jb.ui.tpls")}catch(e){t=angular.module("jb.ui.tpls",[])}t.run(["$templateCache",function(t){t.put("jb/ui/pager/pagination.tpl.html",'<ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li></ul>')}])}(),function(t,e,n){"use strict";var r=e.isDefined,i=e.isUndefined,a=e.isNumber,o=e.isObject,u=e.isArray,l=e.extend,s=e.toJson,c=e.module("LocalStorageModule",[]);c.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){return this.prefix=t,this},this.setStorageType=function(t){return this.storageType=t,this},this.setStorageCookie=function(t,e){return this.cookie.expiry=t,this.cookie.path=e,this},this.setStorageCookieDomain=function(t){return this.cookie.domain=t,this},this.setNotify=function(t,e){return this.notify={setItem:t,removeItem:e},this},this.$get=["$rootScope","$window","$document","$parse",function(t,e,n,c){var f,d=this,p=d.prefix,h=d.cookie,g=d.notify,m=d.storageType;n?n[0]&&(n=n[0]):n=document,"."!==p.substr(-1)&&(p=p?p+".":"");var b=function(t){return p+t},v=function(){try{var n=m in e&&null!==e[m],r=b("__"+Math.round(1e7*Math.random()));return n&&(f=e[m],f.setItem(r,""),f.removeItem(r)),n}catch(i){return m="cookie",t.$broadcast("LocalStorageModule.notification.error",i.message),!1}}(),$=function(e,n){if(n=i(n)?null:s(n),!v||"cookie"===d.storageType)return v||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:"cookie"}),k(e,n);try{f&&f.setItem(b(e),n),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:d.storageType})}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.message),k(e,n)}return!0},y=function(e){if(!v||"cookie"===d.storageType)return v||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),T(e);var n=f?f.getItem(b(e)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(r){return n}},w=function(){var e,n;for(e=0;e<arguments.length;e++)if(n=arguments[e],v&&"cookie"!==d.storageType)try{f.removeItem(b(n)),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:d.storageType})}catch(r){t.$broadcast("LocalStorageModule.notification.error",r.message),D(n)}else v||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,
storageType:"cookie"}),D(n)},_=function(){if(!v)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var e=p.length,n=[];for(var r in f)if(r.substr(0,e)===p)try{n.push(r.substr(e))}catch(i){return t.$broadcast("LocalStorageModule.notification.error",i.Description),[]}return n},j=function(e){var n=p?new RegExp("^"+p):new RegExp,r=e?new RegExp(e):new RegExp;if(!v||"cookie"===d.storageType)return v||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),E();var i=p.length;for(var a in f)if(n.test(a)&&r.test(a.substr(i)))try{w(a.substr(i))}catch(o){return t.$broadcast("LocalStorageModule.notification.error",o.message),E()}return!0},x=function(){try{return e.navigator.cookieEnabled||"cookie"in n&&(n.cookie.length>0||(n.cookie="test").indexOf.call(n.cookie,"test")>-1)}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.message),!1}}(),k=function(e,r,l){if(i(r))return!1;if((u(r)||o(r))&&(r=s(r)),!x)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var c="",f=new Date,d="";if(null===r?(f.setTime(f.getTime()+-864e5),c="; expires="+f.toGMTString(),r=""):a(l)&&0!==l?(f.setTime(f.getTime()+24*l*60*60*1e3),c="; expires="+f.toGMTString()):0!==h.expiry&&(f.setTime(f.getTime()+24*h.expiry*60*60*1e3),c="; expires="+f.toGMTString()),e){var p="; path="+h.path;h.domain&&(d="; domain="+h.domain),n.cookie=b(e)+"="+encodeURIComponent(r)+c+p+d}}catch(g){return t.$broadcast("LocalStorageModule.notification.error",g.message),!1}return!0},T=function(e){if(!x)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var r=n.cookie&&n.cookie.split(";")||[],i=0;i<r.length;i++){for(var a=r[i];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(b(e)+"=")){var o=decodeURIComponent(a.substring(p.length+e.length+1,a.length));try{return JSON.parse(o)}catch(u){return o}}}return null},D=function(t){k(t,null)},E=function(){for(var t=null,e=p.length,r=n.cookie.split(";"),i=0;i<r.length;i++){for(t=r[i];" "===t.charAt(0);)t=t.substring(1,t.length);var a=t.substring(e,t.indexOf("="));D(a)}},S=function(){return m},F=function(t,e,n,i){i=i||e;var a=y(i);return null===a&&r(n)?a=n:o(a)&&o(n)&&(a=l(n,a)),c(e).assign(t,a),t.$watch(e,function(t){$(i,t)},o(t[e]))},C=function(){for(var t=0,n=e[m],r=0;r<n.length;r++)0===n.key(r).indexOf(p)&&t++;return t};return{isSupported:v,getStorageType:S,set:$,add:$,get:y,keys:_,remove:w,clearAll:j,bind:F,deriveKey:b,length:C,cookie:{isSupported:x,set:k,add:k,get:T,remove:D,clearAll:E}}}]})}(window,window.angular);